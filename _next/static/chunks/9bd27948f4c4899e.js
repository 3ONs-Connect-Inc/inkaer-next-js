(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66027,e=>{"use strict";e.s(["useQuery",()=>es],66027);var t,s,i,a,r,l,n,o,h,u,c,d,p,_,f,m,v,b,g,y,x,w,R,k,S=e.i(39946),j=e.i(70292),E=e.i(62351),O=e.i(37696),C=e.i(88245),M=e.i(75555),T=e.i(40143),W=e.i(86491),N=e.i(15823),P=e.i(93803),Q=e.i(19273),F=e.i(80166),U=(t=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakMap,l=new WeakMap,n=new WeakMap,o=new WeakMap,h=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,_=new WeakMap,f=new WeakMap,m=new WeakSet,v=new WeakSet,b=new WeakSet,g=new WeakSet,y=new WeakSet,x=new WeakSet,w=new WeakSet,R=new WeakSet,k=new WeakSet,class extends N.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,S._)(this,s).addObserver(this),q((0,S._)(this,s),this.options)?(0,O._)(this,m,L).call(this):this.updateResult(),(0,O._)(this,y,z).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B((0,S._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B((0,S._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,O._)(this,x,V).call(this),(0,O._)(this,w,G).call(this),(0,S._)(this,s).removeObserver(this)}setOptions(e){let i=this.options,a=(0,S._)(this,s);if(this.options=(0,S._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,Q.resolveEnabled)(this.options.enabled,(0,S._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,O._)(this,R,J).call(this),(0,S._)(this,s).setOptions(this.options),i._defaulted&&!(0,Q.shallowEqualObjects)(this.options,i)&&(0,S._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,S._)(this,s),observer:this});let r=this.hasListeners();r&&D((0,S._)(this,s),a,this.options,i)&&(0,O._)(this,m,L).call(this),this.updateResult(),r&&((0,S._)(this,s)!==a||(0,Q.resolveEnabled)(this.options.enabled,(0,S._)(this,s))!==(0,Q.resolveEnabled)(i.enabled,(0,S._)(this,s))||(0,Q.resolveStaleTime)(this.options.staleTime,(0,S._)(this,s))!==(0,Q.resolveStaleTime)(i.staleTime,(0,S._)(this,s)))&&(0,O._)(this,v,H).call(this);let l=(0,O._)(this,b,A).call(this);r&&((0,S._)(this,s)!==a||(0,Q.resolveEnabled)(this.options.enabled,(0,S._)(this,s))!==(0,Q.resolveEnabled)(i.enabled,(0,S._)(this,s))||l!==(0,S._)(this,_))&&(0,O._)(this,g,K).call(this,l)}getOptimisticResult(e){var i,n;let o=(0,S._)(this,t).getQueryCache().build((0,S._)(this,t),e),h=this.createResult(o,e);return i=this,n=h,(0,Q.shallowEqualObjects)(i.getCurrentResult(),n)||((0,E._)(this,a,h),(0,E._)(this,l,this.options),(0,E._)(this,r,(0,S._)(this,s).state)),h}getCurrentResult(){return(0,S._)(this,a)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,S._)(this,n).status||(0,S._)(this,n).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,S._)(this,f).add(e)}getCurrentQuery(){return(0,S._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,S._)(this,t).defaultQueryOptions(e),i=(0,S._)(this,t).getQueryCache().build((0,S._)(this,t),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){var t;return(0,O._)(this,m,L).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,S._)(this,a)))}createResult(e,t){let d,p=(0,S._)(this,s),_=this.options,f=(0,S._)(this,a),m=(0,S._)(this,r),v=(0,S._)(this,l),b=e!==p?e.state:(0,S._)(this,i),{state:g}=e,y={...g},x=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&q(e,t),a=s&&D(e,p,t,_);(i||a)&&(y={...y,...(0,W.fetchState)(g.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:w,errorUpdatedAt:R,status:k}=y;d=y.data;let j=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===k){let e;if((null==f?void 0:f.isPlaceholderData)&&t.placeholderData===(null==v?void 0:v.placeholderData))e=f.data,j=!0;else{var O;e="function"==typeof t.placeholderData?t.placeholderData(null==(O=(0,S._)(this,c))?void 0:O.state.data,(0,S._)(this,c)):t.placeholderData}void 0!==e&&(k="success",d=(0,Q.replaceData)(null==f?void 0:f.data,e,t),x=!0)}if(t.select&&void 0!==d&&!j)if(f&&d===(null==m?void 0:m.data)&&t.select===(0,S._)(this,h))d=(0,S._)(this,u);else try{(0,E._)(this,h,t.select),d=t.select(d),d=(0,Q.replaceData)(null==f?void 0:f.data,d,t),(0,E._)(this,u,d),(0,E._)(this,o,null)}catch(e){(0,E._)(this,o,e)}(0,S._)(this,o)&&(w=(0,S._)(this,o),d=(0,S._)(this,u),R=Date.now(),k="error");let C="fetching"===y.fetchStatus,M="pending"===k,T="error"===k,N=M&&C,F=void 0!==d,U={status:k,fetchStatus:y.fetchStatus,isPending:M,isSuccess:"success"===k,isError:T,isInitialLoading:N,isLoading:N,data:d,dataUpdatedAt:y.dataUpdatedAt,error:w,errorUpdatedAt:R,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>b.dataUpdateCount||y.errorUpdateCount>b.errorUpdateCount,isFetching:C,isRefetching:C&&!M,isLoadingError:T&&!F,isPaused:"paused"===y.fetchStatus,isPlaceholderData:x,isRefetchError:T&&F,isStale:I(e,t),refetch:this.refetch,promise:(0,S._)(this,n),isEnabled:!1!==(0,Q.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===U.status?e.reject(U.error):void 0!==U.data&&e.resolve(U.data)},s=()=>{t((0,E._)(this,n,U.promise=(0,P.pendingThenable)()))},i=(0,S._)(this,n);switch(i.status){case"pending":e.queryHash===p.queryHash&&t(i);break;case"fulfilled":("error"===U.status||U.data!==i.value)&&s();break;case"rejected":("error"!==U.status||U.error!==i.reason)&&s()}}return U}updateResult(){let e=(0,S._)(this,a),t=this.createResult((0,S._)(this,s),this.options);if((0,E._)(this,r,(0,S._)(this,s).state),(0,E._)(this,l,this.options),void 0!==(0,S._)(this,r).data&&(0,E._)(this,c,(0,S._)(this,s)),(0,Q.shallowEqualObjects)(t,e))return;(0,E._)(this,a,t);let i=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,S._)(this,f).size)return!0;let i=new Set(null!=s?s:(0,S._)(this,f));return this.options.throwOnError&&i.add("error"),Object.keys((0,S._)(this,a)).some(t=>(0,S._)(this,a)[t]!==e[t]&&i.has(t))};(0,O._)(this,k,X).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,O._)(this,y,z).call(this)}constructor(e,S){super(),(0,C._)(this,m),(0,C._)(this,v),(0,C._)(this,b),(0,C._)(this,g),(0,C._)(this,y),(0,C._)(this,x),(0,C._)(this,w),(0,C._)(this,R),(0,C._)(this,k),(0,j._)(this,t,{writable:!0,value:void 0}),(0,j._)(this,s,{writable:!0,value:void 0}),(0,j._)(this,i,{writable:!0,value:void 0}),(0,j._)(this,a,{writable:!0,value:void 0}),(0,j._)(this,r,{writable:!0,value:void 0}),(0,j._)(this,l,{writable:!0,value:void 0}),(0,j._)(this,n,{writable:!0,value:void 0}),(0,j._)(this,o,{writable:!0,value:void 0}),(0,j._)(this,h,{writable:!0,value:void 0}),(0,j._)(this,u,{writable:!0,value:void 0}),(0,j._)(this,c,{writable:!0,value:void 0}),(0,j._)(this,d,{writable:!0,value:void 0}),(0,j._)(this,p,{writable:!0,value:void 0}),(0,j._)(this,_,{writable:!0,value:void 0}),(0,j._)(this,f,{writable:!0,value:new Set}),this.options=S,(0,E._)(this,t,e),(0,E._)(this,o,null),(0,E._)(this,n,(0,P.pendingThenable)()),this.bindMethods(),this.setOptions(S)}});function q(e,t){return!1!==(0,Q.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&B(e,t,t.refetchOnMount)}function B(e,t,s){if(!1!==(0,Q.resolveEnabled)(t.enabled,e)&&"static"!==(0,Q.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&I(e,t)}return!1}function D(e,t,s,i){return(e!==t||!1===(0,Q.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&I(e,s)}function I(e,t){return!1!==(0,Q.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,Q.resolveStaleTime)(t.staleTime,e))}function L(e){(0,O._)(this,R,J).call(this);let t=(0,S._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Q.noop)),t}function H(){(0,O._)(this,x,V).call(this);let e=(0,Q.resolveStaleTime)(this.options.staleTime,(0,S._)(this,s));if(Q.isServer||(0,S._)(this,a).isStale||!(0,Q.isValidTimeout)(e))return;let t=(0,Q.timeUntilStale)((0,S._)(this,a).dataUpdatedAt,e);(0,E._)(this,d,F.timeoutManager.setTimeout(()=>{(0,S._)(this,a).isStale||this.updateResult()},t+1))}function A(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,S._)(this,s)):this.options.refetchInterval)&&e}function K(e){(0,O._)(this,w,G).call(this),(0,E._)(this,_,e),!Q.isServer&&!1!==(0,Q.resolveEnabled)(this.options.enabled,(0,S._)(this,s))&&(0,Q.isValidTimeout)((0,S._)(this,_))&&0!==(0,S._)(this,_)&&(0,E._)(this,p,F.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||M.focusManager.isFocused())&&(0,O._)(this,m,L).call(this)},(0,S._)(this,_)))}function z(){(0,O._)(this,v,H).call(this),(0,O._)(this,g,K).call(this,(0,O._)(this,b,A).call(this))}function V(){(0,S._)(this,d)&&(F.timeoutManager.clearTimeout((0,S._)(this,d)),(0,E._)(this,d,void 0))}function G(){(0,S._)(this,p)&&(F.timeoutManager.clearInterval((0,S._)(this,p)),(0,E._)(this,p,void 0))}function J(){let e=(0,S._)(this,t).getQueryCache().build((0,S._)(this,t),this.options);if(e===(0,S._)(this,s))return;let a=(0,S._)(this,s);(0,E._)(this,s,e),(0,E._)(this,i,e.state),this.hasListeners()&&(null==a||a.removeObserver(this),e.addObserver(this))}function X(e){T.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,S._)(this,a))}),(0,S._)(this,t).getQueryCache().notify({query:(0,S._)(this,s),type:"observerResultsUpdated"})})}e.i(47167);var Y=e.i(71645),Z=e.i(12598);e.i(43476);var $=Y.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ee=Y.createContext(!1);ee.Provider;var et=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function es(e,t){return function(e,t,s){var i,a,r,l,n;let o=Y.useContext(ee),h=Y.useContext($),u=(0,Z.useQueryClient)(s),c=u.defaultQueryOptions(e);if(null==(a=u.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,c),c._optimisticResults=o?"isRestoring":"optimistic",c.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=c.staleTime;c.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return e(t(...i))}:e(t),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))}(c.suspense||c.throwOnError||c.experimental_prefetchInRender)&&!h.isReset()&&(c.retryOnMount=!1),Y.useEffect(()=>{h.clearReset()},[h]);let d=!u.getQueryCache().get(c.queryHash),[p]=Y.useState(()=>new t(u,c)),_=p.getOptimisticResult(c),f=!o&&!1!==e.subscribed;if(Y.useSyncExternalStore(Y.useCallback(e=>{let t=f?p.subscribe(T.notifyManager.batchCalls(e)):Q.noop;return p.updateResult(),t},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Y.useEffect(()=>{p.setOptions(c)},[c,p]),(null==c?void 0:c.suspense)&&_.isPending)throw et(c,p,h);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:a,suspense:r}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(r&&void 0===t.data||(0,Q.shouldThrowError)(i,[t.error,a]))})({result:_,errorResetBoundary:h,throwOnError:c.throwOnError,query:u.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw _.error;if(null==(l=u.getDefaultOptions().queries)||null==(r=l._experimental_afterQuery)||r.call(l,c,_),c.experimental_prefetchInRender&&!Q.isServer&&_.isLoading&&_.isFetching&&!o){let e=d?et(c,p,h):null==(n=u.getQueryCache().get(c.queryHash))?void 0:n.promise;null==e||e.catch(Q.noop).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?_:p.trackResult(_)}(e,U,t)}},86417,e=>{"use strict";e.s(["deleteFileFromR2",()=>s]);var t=e.i(46696);let s=async e=>{try{let s=new URL(e).pathname.replace("/files/","");if(!(await fetch("".concat("https://cloudflare-upload.portfolio-uploads.workers.dev","/files/").concat(s),{method:"DELETE"})).ok)throw Error("Failed to delete file from R2");t.toast.success("Previous image deleted from R2")}catch(e){console.error("File deletion failed:",e),t.toast.error("Failed to delete old image from R2")}}},47618,e=>{"use strict";e.s(["useBlogHeader",()=>i,"useBlogPost",()=>r,"useBlogPosts",()=>a]);var t=e.i(66027),s=e.i(58672);let i=()=>(0,t.useQuery)({queryKey:["blogHeader"],queryFn:s.getBlogHeader}),a=()=>(0,t.useQuery)({queryKey:["blogPosts"],queryFn:s.getBlogPosts}),r=e=>(0,t.useQuery)({queryKey:["blogPost",e],queryFn:()=>(0,s.getBlogPostBySlug)(e),enabled:!!e,initialData:null})},93378,e=>{"use strict";e.s(["default",()=>_],93378);var t=e.i(43476),s=e.i(71645),i=e.i(18566),a=e.i(12598),r=e.i(66540),l=e.i(58672),n=e.i(47618),o=e.i(87316),h=e.i(84614);let u=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var c=e.i(22016),d=e.i(57688);let p=e=>{let{title:s,excerpt:i,author:a,timestamp:r,category:l,image:n,content:p}=e;return(0,t.jsx)("div",{className:"min-h-screen bg-white",children:(0,t.jsxs)("main",{className:"py-16",children:[(0,t.jsx)("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-16",children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl padding",children:[(0,t.jsxs)(c.default,{href:"/blog",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium mb-8",children:[(0,t.jsx)(u,{className:"w-4 h-4 mr-2"}),"Back to Blog"]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full mb-4",children:l}),(0,t.jsx)("h1",{className:"text-bold-5xl  tracking-tight  mb-6",children:s}),(0,t.jsx)("p",{className:"text-lg leading-8 text-gray-600 mb-8",children:i}),(0,t.jsxs)("div",{className:"flex flex-col xxs:flex-row items-center justify-center text-sm text-gray-500 space-x-6",children:[(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)(h.User,{className:"w-4 h-4 mr-2"}),a]}),(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)(o.Calendar,{className:"w-4 h-4 mr-2"}),r]}),(0,t.jsxs)("span",{children:[((null==p?void 0:p.length)/1e3).toFixed(0)," mins read"]})]})]})]})}),(0,t.jsx)("section",{className:"py-8",children:(0,t.jsx)("div",{className:"mx-auto max-w-4xl padding",children:(0,t.jsx)(d.default,{src:n,alt:s,width:1600,height:384,className:"w-full h-96 object-cover rounded-lg shadow-lg"})})}),(0,t.jsx)("section",{className:"py-8",children:(0,t.jsx)("div",{className:"mx-auto max-w-4xl padding",children:(0,t.jsx)("div",{className:"prose prose-lg prose-blue max-w-none",children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:p}})})})})]})})};function _(){let e=(0,i.useSearchParams)().get("slug"),o=(0,a.useQueryClient)(),{data:h,isLoading:u,isError:c}=(0,n.useBlogPost)(e||"");return((0,s.useEffect)(()=>{if(!e)return;let t=(0,l.listenToBlogPostBySlug)(e,t=>{o.setQueryData(["blogPost",e],t)});return()=>t()},[e,o]),e)?u?(0,t.jsx)("p",{className:"p-6",children:"Loading post..."}):c||!h?(0,t.jsx)("p",{className:"p-6",children:"Post not found"}):(0,t.jsx)(p,{title:h.title,excerpt:h.excerpt,author:h.author,timestamp:(0,r.default)(h.timestamp).fromNow(),category:h.category,image:h.image,content:h.content}):(0,t.jsx)("p",{className:"p-6",children:"Invalid post link."})}}]);