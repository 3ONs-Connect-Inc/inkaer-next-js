(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66027,e=>{"use strict";e.s(["useQuery",()=>es],66027);var t,s,a,r,i,l,n,o,c,u,d,h,p,m,f,g,v,x,b,y,_,w,j,N,C=e.i(39946),R=e.i(70292),S=e.i(62351),k=e.i(37696),E=e.i(88245),O=e.i(75555),T=e.i(40143),M=e.i(86491),P=e.i(15823),D=e.i(93803),F=e.i(19273),I=e.i(80166),A=(t=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakMap,i=new WeakMap,l=new WeakMap,n=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakSet,v=new WeakSet,x=new WeakSet,b=new WeakSet,y=new WeakSet,_=new WeakSet,w=new WeakSet,j=new WeakSet,N=new WeakSet,class extends P.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,C._)(this,s).addObserver(this),U((0,C._)(this,s),this.options)?(0,k._)(this,g,H).call(this):this.updateResult(),(0,k._)(this,y,z).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return W((0,C._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return W((0,C._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,k._)(this,_,V).call(this),(0,k._)(this,w,X).call(this),(0,C._)(this,s).removeObserver(this)}setOptions(e){let a=this.options,r=(0,C._)(this,s);if(this.options=(0,C._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,k._)(this,j,G).call(this),(0,C._)(this,s).setOptions(this.options),a._defaulted&&!(0,F.shallowEqualObjects)(this.options,a)&&(0,C._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,C._)(this,s),observer:this});let i=this.hasListeners();i&&q((0,C._)(this,s),r,this.options,a)&&(0,k._)(this,g,H).call(this),this.updateResult(),i&&((0,C._)(this,s)!==r||(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s))!==(0,F.resolveEnabled)(a.enabled,(0,C._)(this,s))||(0,F.resolveStaleTime)(this.options.staleTime,(0,C._)(this,s))!==(0,F.resolveStaleTime)(a.staleTime,(0,C._)(this,s)))&&(0,k._)(this,v,Q).call(this);let l=(0,k._)(this,x,B).call(this);i&&((0,C._)(this,s)!==r||(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s))!==(0,F.resolveEnabled)(a.enabled,(0,C._)(this,s))||l!==(0,C._)(this,m))&&(0,k._)(this,b,K).call(this,l)}getOptimisticResult(e){var a,n;let o=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),e),c=this.createResult(o,e);return a=this,n=c,(0,F.shallowEqualObjects)(a.getCurrentResult(),n)||((0,S._)(this,r,c),(0,S._)(this,l,this.options),(0,S._)(this,i,(0,C._)(this,s).state)),c}getCurrentResult(){return(0,C._)(this,r)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,C._)(this,n).status||(0,C._)(this,n).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,C._)(this,f).add(e)}getCurrentQuery(){return(0,C._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,C._)(this,t).defaultQueryOptions(e),a=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),s);return a.fetch().then(()=>this.createResult(a,s))}fetch(e){var t;return(0,k._)(this,g,H).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,C._)(this,r)))}createResult(e,t){let h,p=(0,C._)(this,s),m=this.options,f=(0,C._)(this,r),g=(0,C._)(this,i),v=(0,C._)(this,l),x=e!==p?e.state:(0,C._)(this,a),{state:b}=e,y={...b},_=!1;if(t._optimisticResults){let s=this.hasListeners(),a=!s&&U(e,t),r=s&&q(e,p,t,m);(a||r)&&(y={...y,...(0,M.fetchState)(b.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:w,errorUpdatedAt:j,status:N}=y;h=y.data;let R=!1;if(void 0!==t.placeholderData&&void 0===h&&"pending"===N){let e;if((null==f?void 0:f.isPlaceholderData)&&t.placeholderData===(null==v?void 0:v.placeholderData))e=f.data,R=!0;else{var k;e="function"==typeof t.placeholderData?t.placeholderData(null==(k=(0,C._)(this,d))?void 0:k.state.data,(0,C._)(this,d)):t.placeholderData}void 0!==e&&(N="success",h=(0,F.replaceData)(null==f?void 0:f.data,e,t),_=!0)}if(t.select&&void 0!==h&&!R)if(f&&h===(null==g?void 0:g.data)&&t.select===(0,C._)(this,c))h=(0,C._)(this,u);else try{(0,S._)(this,c,t.select),h=t.select(h),h=(0,F.replaceData)(null==f?void 0:f.data,h,t),(0,S._)(this,u,h),(0,S._)(this,o,null)}catch(e){(0,S._)(this,o,e)}(0,C._)(this,o)&&(w=(0,C._)(this,o),h=(0,C._)(this,u),j=Date.now(),N="error");let E="fetching"===y.fetchStatus,O="pending"===N,T="error"===N,P=O&&E,I=void 0!==h,A={status:N,fetchStatus:y.fetchStatus,isPending:O,isSuccess:"success"===N,isError:T,isInitialLoading:P,isLoading:P,data:h,dataUpdatedAt:y.dataUpdatedAt,error:w,errorUpdatedAt:j,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>x.dataUpdateCount||y.errorUpdateCount>x.errorUpdateCount,isFetching:E,isRefetching:E&&!O,isLoadingError:T&&!I,isPaused:"paused"===y.fetchStatus,isPlaceholderData:_,isRefetchError:T&&I,isStale:L(e,t),refetch:this.refetch,promise:(0,C._)(this,n),isEnabled:!1!==(0,F.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===A.status?e.reject(A.error):void 0!==A.data&&e.resolve(A.data)},s=()=>{t((0,S._)(this,n,A.promise=(0,D.pendingThenable)()))},a=(0,C._)(this,n);switch(a.status){case"pending":e.queryHash===p.queryHash&&t(a);break;case"fulfilled":("error"===A.status||A.data!==a.value)&&s();break;case"rejected":("error"!==A.status||A.error!==a.reason)&&s()}}return A}updateResult(){let e=(0,C._)(this,r),t=this.createResult((0,C._)(this,s),this.options);if((0,S._)(this,i,(0,C._)(this,s).state),(0,S._)(this,l,this.options),void 0!==(0,C._)(this,i).data&&(0,S._)(this,d,(0,C._)(this,s)),(0,F.shallowEqualObjects)(t,e))return;(0,S._)(this,r,t);let a=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,C._)(this,f).size)return!0;let a=new Set(null!=s?s:(0,C._)(this,f));return this.options.throwOnError&&a.add("error"),Object.keys((0,C._)(this,r)).some(t=>(0,C._)(this,r)[t]!==e[t]&&a.has(t))};(0,k._)(this,N,Y).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,k._)(this,y,z).call(this)}constructor(e,C){super(),(0,E._)(this,g),(0,E._)(this,v),(0,E._)(this,x),(0,E._)(this,b),(0,E._)(this,y),(0,E._)(this,_),(0,E._)(this,w),(0,E._)(this,j),(0,E._)(this,N),(0,R._)(this,t,{writable:!0,value:void 0}),(0,R._)(this,s,{writable:!0,value:void 0}),(0,R._)(this,a,{writable:!0,value:void 0}),(0,R._)(this,r,{writable:!0,value:void 0}),(0,R._)(this,i,{writable:!0,value:void 0}),(0,R._)(this,l,{writable:!0,value:void 0}),(0,R._)(this,n,{writable:!0,value:void 0}),(0,R._)(this,o,{writable:!0,value:void 0}),(0,R._)(this,c,{writable:!0,value:void 0}),(0,R._)(this,u,{writable:!0,value:void 0}),(0,R._)(this,d,{writable:!0,value:void 0}),(0,R._)(this,h,{writable:!0,value:void 0}),(0,R._)(this,p,{writable:!0,value:void 0}),(0,R._)(this,m,{writable:!0,value:void 0}),(0,R._)(this,f,{writable:!0,value:new Set}),this.options=C,(0,S._)(this,t,e),(0,S._)(this,o,null),(0,S._)(this,n,(0,D.pendingThenable)()),this.bindMethods(),this.setOptions(C)}});function U(e,t){return!1!==(0,F.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&W(e,t,t.refetchOnMount)}function W(e,t,s){if(!1!==(0,F.resolveEnabled)(t.enabled,e)&&"static"!==(0,F.resolveStaleTime)(t.staleTime,e)){let a="function"==typeof s?s(e):s;return"always"===a||!1!==a&&L(e,t)}return!1}function q(e,t,s,a){return(e!==t||!1===(0,F.resolveEnabled)(a.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&L(e,s)}function L(e,t){return!1!==(0,F.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,F.resolveStaleTime)(t.staleTime,e))}function H(e){(0,k._)(this,j,G).call(this);let t=(0,C._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(F.noop)),t}function Q(){(0,k._)(this,_,V).call(this);let e=(0,F.resolveStaleTime)(this.options.staleTime,(0,C._)(this,s));if(F.isServer||(0,C._)(this,r).isStale||!(0,F.isValidTimeout)(e))return;let t=(0,F.timeUntilStale)((0,C._)(this,r).dataUpdatedAt,e);(0,S._)(this,h,I.timeoutManager.setTimeout(()=>{(0,C._)(this,r).isStale||this.updateResult()},t+1))}function B(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,C._)(this,s)):this.options.refetchInterval)&&e}function K(e){(0,k._)(this,w,X).call(this),(0,S._)(this,m,e),!F.isServer&&!1!==(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s))&&(0,F.isValidTimeout)((0,C._)(this,m))&&0!==(0,C._)(this,m)&&(0,S._)(this,p,I.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||O.focusManager.isFocused())&&(0,k._)(this,g,H).call(this)},(0,C._)(this,m)))}function z(){(0,k._)(this,v,Q).call(this),(0,k._)(this,b,K).call(this,(0,k._)(this,x,B).call(this))}function V(){(0,C._)(this,h)&&(I.timeoutManager.clearTimeout((0,C._)(this,h)),(0,S._)(this,h,void 0))}function X(){(0,C._)(this,p)&&(I.timeoutManager.clearInterval((0,C._)(this,p)),(0,S._)(this,p,void 0))}function G(){let e=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),this.options);if(e===(0,C._)(this,s))return;let r=(0,C._)(this,s);(0,S._)(this,s,e),(0,S._)(this,a,e.state),this.hasListeners()&&(null==r||r.removeObserver(this),e.addObserver(this))}function Y(e){T.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,C._)(this,r))}),(0,C._)(this,t).getQueryCache().notify({query:(0,C._)(this,s),type:"observerResultsUpdated"})})}e.i(47167);var Z=e.i(71645),$=e.i(12598);e.i(43476);var J=Z.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ee=Z.createContext(!1);ee.Provider;var et=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function es(e,t){return function(e,t,s){var a,r,i,l,n;let o=Z.useContext(ee),c=Z.useContext(J),u=(0,$.useQueryClient)(s),d=u.defaultQueryOptions(e);if(null==(r=u.getDefaultOptions().queries)||null==(a=r._experimental_beforeQuery)||a.call(r,d),d._optimisticResults=o?"isRestoring":"optimistic",d.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=d.staleTime;d.staleTime="function"==typeof t?function(){for(var s=arguments.length,a=Array(s),r=0;r<s;r++)a[r]=arguments[r];return e(t(...a))}:e(t),"number"==typeof d.gcTime&&(d.gcTime=Math.max(d.gcTime,1e3))}(d.suspense||d.throwOnError||d.experimental_prefetchInRender)&&!c.isReset()&&(d.retryOnMount=!1),Z.useEffect(()=>{c.clearReset()},[c]);let h=!u.getQueryCache().get(d.queryHash),[p]=Z.useState(()=>new t(u,d)),m=p.getOptimisticResult(d),f=!o&&!1!==e.subscribed;if(Z.useSyncExternalStore(Z.useCallback(e=>{let t=f?p.subscribe(T.notifyManager.batchCalls(e)):F.noop;return p.updateResult(),t},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Z.useEffect(()=>{p.setOptions(d)},[d,p]),(null==d?void 0:d.suspense)&&m.isPending)throw et(d,p,c);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:a,query:r,suspense:i}=e;return t.isError&&!s.isReset()&&!t.isFetching&&r&&(i&&void 0===t.data||(0,F.shouldThrowError)(a,[t.error,r]))})({result:m,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw m.error;if(null==(l=u.getDefaultOptions().queries)||null==(i=l._experimental_afterQuery)||i.call(l,d,m),d.experimental_prefetchInRender&&!F.isServer&&m.isLoading&&m.isFetching&&!o){let e=h?et(d,p,c):null==(n=u.getQueryCache().get(d.queryHash))?void 0:n.promise;null==e||e.catch(F.noop).finally(()=>{p.updateResult()})}return d.notifyOnChangeProps?m:p.trackResult(m)}(e,A,t)}},86417,e=>{"use strict";e.s(["deleteFileFromR2",()=>s]);var t=e.i(46696);let s=async e=>{try{let s=new URL(e).pathname.replace("/files/","");if(!(await fetch("".concat("https://cloudflare-upload.portfolio-uploads.workers.dev","/files/").concat(s),{method:"DELETE"})).ok)throw Error("Failed to delete file from R2");t.toast.success("Previous image deleted from R2")}catch(e){console.error("File deletion failed:",e),t.toast.error("Failed to delete old image from R2")}}},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99145,e=>{"use strict";e.s(["AdminTable",()=>s]);var t=e.i(43476);function s(e){let{title:s,data:a,columns:r,rowKey:i=(e,t)=>t,className:l=""}=e;return(0,t.jsxs)("div",{className:"card ".concat(l),children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("p",{className:"card-title",children:s})}),(0,t.jsx)("div",{className:"card-body p-0",children:(0,t.jsx)("div",{className:"relative h-auto w-full overflow-auto rounded-none [scrollbar-width:_thin]",children:(0,t.jsxs)("table",{className:"table table-fixed w-full min-w-[700px] border-collapse",children:[(0,t.jsx)("thead",{className:"table-header",children:(0,t.jsx)("tr",{className:"table-row",children:r.map((e,s)=>(0,t.jsx)("th",{className:"table-head ".concat(e.className||""),children:e.header},s))})}),(0,t.jsx)("tbody",{className:"table-body",children:0===a.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:r.length,className:"text-center py-6 text-gray-500",children:"No data available"})}):a.map((e,s)=>(0,t.jsx)("tr",{className:"table-row",children:r.map((a,r)=>{var i;return(0,t.jsx)("td",{className:"table-cell ".concat(a.className||""),children:a.render?a.render(e,s):null!=(i=e[a.accessor])?i:""},r)})},i(e,s)))})]})})})]})}},37727,e=>{"use strict";e.s(["X",()=>t],37727);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},91918,20783,e=>{"use strict";e.s(["Slot",()=>n,"createSlot",()=>l,"createSlottable",()=>c],91918);var t=e.i(71645);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1,r=t.map(t=>{let r=s(t,e);return a||"function"!=typeof r||(a=!0),r});if(a)return()=>{for(let e=0;e<r.length;e++){let a=r[e];"function"==typeof a?a():s(t[e],null)}}}}function r(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return t.useCallback(a(...s),s)}e.s(["composeRefs",()=>a,"useComposedRefs",()=>r],20783);var i=e.i(43476);function l(e){let s=function(e){let s=t.forwardRef((e,s)=>{let{children:r,...i}=e;if(t.isValidElement(r)){var l,n,o;let e,c,u=(c=(e=null==(n=Object.getOwnPropertyDescriptor((l=r).props,"ref"))?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(c=(e=null==(o=Object.getOwnPropertyDescriptor(l,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref,d=function(e,t){let s={...t};for(let a in t){let r=e[a],i=t[a];/^on[A-Z]/.test(a)?r&&i?s[a]=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let a=i(...t);return r(...t),a}:r&&(s[a]=r):"style"===a?s[a]={...r,...i}:"className"===a&&(s[a]=[r,i].filter(Boolean).join(" "))}return{...e,...s}}(i,r.props);return r.type!==t.Fragment&&(d.ref=s?a(s,u):u),t.cloneElement(r,d)}return t.Children.count(r)>1?t.Children.only(null):null});return s.displayName="".concat(e,".SlotClone"),s}(e),r=t.forwardRef((e,a)=>{let{children:r,...l}=e,n=t.Children.toArray(r),o=n.find(u);if(o){let e=o.props.children,r=n.map(s=>s!==o?s:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,i.jsx)(s,{...l,ref:a,children:t.isValidElement(e)?t.cloneElement(e,void 0,r):null})}return(0,i.jsx)(s,{...l,ref:a,children:r})});return r.displayName="".concat(e,".Slot"),r}var n=l("Slot"),o=Symbol("radix.slottable");function c(e){let t=e=>{let{children:t}=e;return(0,i.jsx)(i.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=o,t}function u(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},54616,e=>{"use strict";e.s(["useMutation",()=>_],54616);var t,s,a,r,i,l,n=e.i(71645),o=e.i(39946),c=e.i(70292),u=e.i(62351),d=e.i(37696),h=e.i(88245),p=e.i(14272),m=e.i(40143),f=e.i(15823),g=e.i(19273),v=(t=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakMap,i=new WeakSet,l=new WeakSet,class extends f.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;let r=this.options;this.options=(0,o._)(this,t).defaultMutationOptions(e),(0,g.shallowEqualObjects)(this.options,r)||(0,o._)(this,t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,o._)(this,a),observer:this}),(null==r?void 0:r.mutationKey)&&this.options.mutationKey&&(0,g.hashKey)(r.mutationKey)!==(0,g.hashKey)(this.options.mutationKey)?this.reset():(null==(s=(0,o._)(this,a))?void 0:s.state.status)==="pending"&&(0,o._)(this,a).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,o._)(this,a))||e.removeObserver(this)}}onMutationUpdate(e){(0,d._)(this,i,x).call(this),(0,d._)(this,l,b).call(this,e)}getCurrentResult(){return(0,o._)(this,s)}reset(){var e;null==(e=(0,o._)(this,a))||e.removeObserver(this),(0,u._)(this,a,void 0),(0,d._)(this,i,x).call(this),(0,d._)(this,l,b).call(this)}mutate(e,s){var i;return(0,u._)(this,r,s),null==(i=(0,o._)(this,a))||i.removeObserver(this),(0,u._)(this,a,(0,o._)(this,t).getMutationCache().build((0,o._)(this,t),this.options)),(0,o._)(this,a).addObserver(this),(0,o._)(this,a).execute(e)}constructor(e,n){super(),(0,h._)(this,i),(0,h._)(this,l),(0,c._)(this,t,{writable:!0,value:void 0}),(0,c._)(this,s,{writable:!0,value:void 0}),(0,c._)(this,a,{writable:!0,value:void 0}),(0,c._)(this,r,{writable:!0,value:void 0}),(0,u._)(this,t,e),this.setOptions(n),this.bindMethods(),(0,d._)(this,i,x).call(this)}});function x(){var e,t;let r=null!=(t=null==(e=(0,o._)(this,a))?void 0:e.state)?t:(0,p.getDefaultState)();(0,u._)(this,s,{...r,isPending:"pending"===r.status,isSuccess:"success"===r.status,isError:"error"===r.status,isIdle:"idle"===r.status,mutate:this.mutate,reset:this.reset})}function b(e){m.notifyManager.batch(()=>{if((0,o._)(this,r)&&this.hasListeners()){var a,i,l,n,c,u,d,h;let p=(0,o._)(this,s).variables,m=(0,o._)(this,s).context,f={client:(0,o._)(this,t),meta:this.options.meta,mutationKey:this.options.mutationKey};(null==e?void 0:e.type)==="success"?(null==(a=(i=(0,o._)(this,r)).onSuccess)||a.call(i,e.data,p,m,f),null==(l=(n=(0,o._)(this,r)).onSettled)||l.call(n,e.data,null,p,m,f)):(null==e?void 0:e.type)==="error"&&(null==(c=(u=(0,o._)(this,r)).onError)||c.call(u,e.error,p,m,f),null==(d=(h=(0,o._)(this,r)).onSettled)||d.call(h,void 0,e.error,p,m,f))}this.listeners.forEach(e=>{e((0,o._)(this,s))})})}var y=e.i(12598);function _(e,t){let s=(0,y.useQueryClient)(t),[a]=n.useState(()=>new v(s,e));n.useEffect(()=>{a.setOptions(e)},[a,e]);let r=n.useSyncExternalStore(n.useCallback(e=>a.subscribe(m.notifyManager.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=n.useCallback((e,t)=>{a.mutate(e,t).catch(g.noop)},[a]);if(r.error&&(0,g.shouldThrowError)(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}},48425,e=>{"use strict";e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>l]);var t=e.i(71645),s=e.i(74080),a=e.i(91918),r=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,a.createSlot)("Primitive.".concat(s)),l=t.forwardRef((e,t)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(a?i:s,{...l,ref:t})});return l.displayName="Primitive.".concat(s),{...e,[s]:l}},{});function l(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},81140,e=>{"use strict";function t(e,t){let{checkForDefaultPrevented:s=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){if(null==e||e(a),!1===s||!a.defaultPrevented)return null==t?void 0:t(a)}}e.s(["composeEventHandlers",()=>t]),"undefined"!=typeof window&&window.document&&window.document.createElement},30030,e=>{"use strict";e.s(["createContext",()=>a,"createContextScope",()=>r]);var t=e.i(71645),s=e.i(43476);function a(e,a){let r=t.createContext(a),i=e=>{let{children:a,...i}=e,l=t.useMemo(()=>i,Object.values(i));return(0,s.jsx)(r.Provider,{value:l,children:a})};return i.displayName=e+"Provider",[i,function(s){let i=t.useContext(r);if(i)return i;if(void 0!==a)return a;throw Error("`".concat(s,"` must be used within `").concat(e,"`"))}]}function r(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],i=()=>{let s=r.map(e=>t.createContext(e));return function(a){let r=(null==a?void 0:a[e])||s;return t.useMemo(()=>({["__scope".concat(e)]:{...a,[e]:r}}),[a,r])}};return i.scopeName=e,[function(a,i){let l=t.createContext(i),n=r.length;r=[...r,i];let o=a=>{var r;let{scope:i,children:o,...c}=a,u=(null==i||null==(r=i[e])?void 0:r[n])||l,d=t.useMemo(()=>c,Object.values(c));return(0,s.jsx)(u.Provider,{value:d,children:o})};return o.displayName=a+"Provider",[o,function(s,r){var o;let c=(null==r||null==(o=r[e])?void 0:o[n])||l,u=t.useContext(c);if(u)return u;if(void 0!==i)return i;throw Error("`".concat(s,"` must be used within `").concat(a,"`"))}]},function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];let r=s[0];if(1===s.length)return r;let i=()=>{let e=s.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(s){let a=e.reduce((e,t)=>{let{useScope:a,scopeName:r}=t,i=a(s)["__scope".concat(r)];return{...e,...i}},{});return t.useMemo(()=>({["__scope".concat(r.scopeName)]:a}),[a])}};return i.scopeName=r.scopeName,i}(i,...a)]}},69340,34620,96626,e=>{"use strict";e.s(["useControllableState",()=>i],69340);var t,s=e.i(71645);e.s(["useLayoutEffect",()=>a],34620);var a=(null==(t=globalThis)?void 0:t.document)?s.useLayoutEffect:()=>{};s[" useEffectEvent ".trim().toString()],s[" useInsertionEffect ".trim().toString()];var r=s[" useInsertionEffect ".trim().toString()]||a;function i(e){let{prop:t,defaultProp:a,onChange:i=()=>{},caller:l}=e,[n,o,c]=function(e){let{defaultProp:t,onChange:a}=e,[i,l]=s.useState(t),n=s.useRef(i),o=s.useRef(a);return r(()=>{o.current=a},[a]),s.useEffect(()=>{if(n.current!==i){var e;null==(e=o.current)||e.call(o,i),n.current=i}},[i,n]),[i,l,o]}({defaultProp:a,onChange:i}),u=void 0!==t,d=u?t:n;{let e=s.useRef(void 0!==t);s.useEffect(()=>{let t=e.current;if(t!==u){let e=u?"controlled":"uncontrolled";console.warn("".concat(l," is changing from ").concat(t?"controlled":"uncontrolled"," to ").concat(e,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=u},[u,l])}return[d,s.useCallback(e=>{if(u){let a="function"==typeof e?e(t):e;if(a!==t){var s;null==(s=c.current)||s.call(c,a)}}else o(e)},[u,t,o,c])]}Symbol("RADIX:SYNC_STATE"),e.s(["Presence",()=>n],96626);var l=e.i(20783),n=e=>{let{present:t,children:r}=e,i=function(e){var t,r;let[i,l]=s.useState(),n=s.useRef(null),c=s.useRef(e),u=s.useRef("none"),[d,h]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},s.useReducer((e,t)=>{let s=r[e][t];return null!=s?s:e},t));return s.useEffect(()=>{let e=o(n.current);u.current="mounted"===d?e:"none"},[d]),a(()=>{let t=n.current,s=c.current;if(s!==e){let a=u.current,r=o(t);e?h("MOUNT"):"none"===r||(null==t?void 0:t.display)==="none"?h("UNMOUNT"):s&&a!==r?h("ANIMATION_OUT"):h("UNMOUNT"),c.current=e}},[e,h]),a(()=>{if(i){var e;let t,s=null!=(e=i.ownerDocument.defaultView)?e:window,a=e=>{let a=o(n.current).includes(CSS.escape(e.animationName));if(e.target===i&&a&&(h("ANIMATION_END"),!c.current)){let e=i.style.animationFillMode;i.style.animationFillMode="forwards",t=s.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=e)})}},r=e=>{e.target===i&&(u.current=o(n.current))};return i.addEventListener("animationstart",r),i.addEventListener("animationcancel",a),i.addEventListener("animationend",a),()=>{s.clearTimeout(t),i.removeEventListener("animationstart",r),i.removeEventListener("animationcancel",a),i.removeEventListener("animationend",a)}}h("ANIMATION_END")},[i,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:s.useCallback(e=>{n.current=e?getComputedStyle(e):null,l(e)},[])}}(t),n="function"==typeof r?r({present:i.isPresent}):s.Children.only(r),c=(0,l.useComposedRefs)(i.ref,function(e){var t,s;let a=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?e.ref:(r=(a=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n));return"function"==typeof r||i.isPresent?s.cloneElement(n,{ref:c}):null};function o(e){return(null==e?void 0:e.animationName)||"none"}n.displayName="Presence"},64255,94706,e=>{"use strict";e.s(["uploadFileToR2",()=>s],64255),e.i(47167);var t=e.i(46696);let s=async(e,s)=>{let a,r=new FormData;r.append("file",e);try{s(!0),a=t.toast.loading("Uploading file please wait...");let e=await fetch("".concat("https://cloudflare-upload.portfolio-uploads.workers.dev","/upload"),{method:"POST",body:r});if(!e.ok){let t=await e.text();throw console.error("File upload failed: ".concat(t)),Error("File upload to R2 failed")}let i=await e.json();return t.toast.dismiss(a),t.toast.success("File uploaded successfully!"),i.url}catch(e){throw console.error("File upload failed:",e),a&&t.toast.dismiss(a),t.toast.error("Failed to upload to Cloudflare R2"),e}finally{s(!1)}};e.s(["default",()=>a],94706),e.i(98821);let a=e.i(22219)},27612,11540,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>ea],11540);var s=e.i(43476),a=e.i(71645),r=e.i(81140),i=e.i(20783),l=e.i(30030),n=e.i(10772),o=e.i(69340),c=e.i(26330),u=e.i(65491),d=e.i(74606),h=e.i(96626),p=e.i(48425),m=e.i(3536),f=e.i(85369),g=e.i(86312),v=e.i(91918),x="Dialog",[b,y]=(0,l.createContextScope)(x),[_,w]=b(x),j=e=>{let{__scopeDialog:t,children:r,open:i,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,d=a.useRef(null),h=a.useRef(null),[p,m]=(0,o.useControllableState)({prop:i,defaultProp:null!=l&&l,onChange:c,caller:x});return(0,s.jsx)(_,{scope:t,triggerRef:d,contentRef:h,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:u,children:r})};j.displayName=x;var N="DialogTrigger";a.forwardRef((e,t)=>{let{__scopeDialog:a,...l}=e,n=w(N,a),o=(0,i.useComposedRefs)(t,n.triggerRef);return(0,s.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":B(n.open),...l,ref:o,onClick:(0,r.composeEventHandlers)(e.onClick,n.onOpenToggle)})}).displayName=N;var C="DialogPortal",[R,S]=b(C,{forceMount:void 0}),k=e=>{let{__scopeDialog:t,forceMount:r,children:i,container:l}=e,n=w(C,t);return(0,s.jsx)(R,{scope:t,forceMount:r,children:a.Children.map(i,e=>(0,s.jsx)(h.Presence,{present:r||n.open,children:(0,s.jsx)(d.Portal,{asChild:!0,container:l,children:e})}))})};k.displayName=C;var E="DialogOverlay",O=a.forwardRef((e,t)=>{let a=S(E,e.__scopeDialog),{forceMount:r=a.forceMount,...i}=e,l=w(E,e.__scopeDialog);return l.modal?(0,s.jsx)(h.Presence,{present:r||l.open,children:(0,s.jsx)(M,{...i,ref:t})}):null});O.displayName=E;var T=(0,v.createSlot)("DialogOverlay.RemoveScroll"),M=a.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,i=w(E,a);return(0,s.jsx)(f.RemoveScroll,{as:T,allowPinchZoom:!0,shards:[i.contentRef],children:(0,s.jsx)(p.Primitive.div,{"data-state":B(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),P="DialogContent",D=a.forwardRef((e,t)=>{let a=S(P,e.__scopeDialog),{forceMount:r=a.forceMount,...i}=e,l=w(P,e.__scopeDialog);return(0,s.jsx)(h.Presence,{present:r||l.open,children:l.modal?(0,s.jsx)(F,{...i,ref:t}):(0,s.jsx)(I,{...i,ref:t})})});D.displayName=P;var F=a.forwardRef((e,t)=>{let l=w(P,e.__scopeDialog),n=a.useRef(null),o=(0,i.useComposedRefs)(t,l.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,g.hideOthers)(e)},[]),(0,s.jsx)(A,{...e,ref:o,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=l.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,r.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,r.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),I=a.forwardRef((e,t)=>{let r=w(P,e.__scopeDialog),i=a.useRef(!1),l=a.useRef(!1);return(0,s.jsx)(A,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,a;null==(s=e.onCloseAutoFocus)||s.call(e,t),t.defaultPrevented||(i.current||null==(a=r.triggerRef.current)||a.focus(),t.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:t=>{var s,a;null==(s=e.onInteractOutside)||s.call(e,t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let n=t.target;(null==(a=r.triggerRef.current)?void 0:a.contains(n))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),A=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:l,onOpenAutoFocus:n,onCloseAutoFocus:o,...d}=e,h=w(P,r),p=a.useRef(null),f=(0,i.useComposedRefs)(t,p);return(0,m.useFocusGuards)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:n,onUnmountAutoFocus:o,children:(0,s.jsx)(c.DismissableLayer,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":B(h.open),...d,ref:f,onDismiss:()=>h.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X,{titleId:h.titleId}),(0,s.jsx)(G,{contentRef:p,descriptionId:h.descriptionId})]})]})}),U="DialogTitle",W=a.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,i=w(U,a);return(0,s.jsx)(p.Primitive.h2,{id:i.titleId,...r,ref:t})});W.displayName=U;var q="DialogDescription",L=a.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,i=w(q,a);return(0,s.jsx)(p.Primitive.p,{id:i.descriptionId,...r,ref:t})});L.displayName=q;var H="DialogClose",Q=a.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,l=w(H,a);return(0,s.jsx)(p.Primitive.button,{type:"button",...i,ref:t,onClick:(0,r.composeEventHandlers)(e.onClick,()=>l.onOpenChange(!1))})});function B(e){return e?"open":"closed"}Q.displayName=H;var K="DialogTitleWarning",[z,V]=(0,l.createContext)(K,{contentName:P,titleName:U,docsSlug:"dialog"}),X=e=>{let{titleId:t}=e,s=V(K),r="`".concat(s.contentName,"` requires a `").concat(s.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(s.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(s.docsSlug);return a.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},G=e=>{let{contentRef:t,descriptionId:s}=e,r=V("DialogDescriptionWarning"),i="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return a.useEffect(()=>{var e;let a=null==(e=t.current)?void 0:e.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(i))},[i,t,s]),null},Y=e.i(37727),Z=e.i(28910);let $=a.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(O,{ref:t,className:(0,Z.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});$.displayName=O.displayName;let J=a.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(k,{children:[(0,s.jsx)($,{}),(0,s.jsxs)(D,{ref:t,className:(0,Z.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[r,(0,s.jsxs)(Q,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(Y.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});J.displayName=D.displayName;let ee=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,Z.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};ee.displayName="DialogHeader";let et=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,Z.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};et.displayName="DialogFooter";let es=a.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(W,{ref:t,className:(0,Z.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});function ea(e){let{isOpen:t,title:a="Confirm Action",message:r,confirmText:i="Yes",cancelText:l="Cancel",onConfirm:n,onCancel:o}=e;return(0,s.jsx)(j,{open:t,onOpenChange:e=>!e&&o(),children:(0,s.jsxs)(J,{children:[(0,s.jsx)(ee,{children:a&&(0,s.jsx)(es,{children:a})}),(0,s.jsx)("div",{className:"mb-4 border text-slate-900  dark:text-gray-50",children:r}),(0,s.jsxs)(et,{children:[(0,s.jsx)("button",{onClick:o,className:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100",children:l}),(0,s.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700",children:i})]})]})})}es.displayName=W.displayName,a.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(L,{ref:t,className:(0,Z.cn)("text-sm text-muted-foreground",a),...r})}).displayName=L.displayName},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},83627,e=>{"use strict";e.s(["Edit3",()=>t],83627);let t=(0,e.i(75254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},64227,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476);let s=(0,e.i(70703).default)(()=>e.A(14357),{loadableGenerated:{modules:[13441]},ssr:!1}),a={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],[{align:[]}],[{font:[]},{size:[]}],["link","image"],["clean"]]},r=["header","bold","italic","underline","strike","blockquote","list","indent","color","background","align","font","size","link","image"];function i(e){let{value:i,onChange:l}=e;return(0,t.jsx)(s,{theme:"snow",value:i,onChange:l,modules:a,formats:r,className:"rounded border"})}},54506,e=>{"use strict";e.s(["default",()=>A],54506);var t=e.i(43476),s=e.i(71645),a=e.i(39616),r=e.i(7233),i=e.i(99145);function l(e){let{header:l,setHeader:n,onSave:o}=e,[c,u]=(0,s.useState)(l),[d,h]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"card mb-8",children:[(0,t.jsxs)("div",{className:"card-header flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"card-title flex items-center gap-2",children:[(0,t.jsx)(a.Settings,{className:"w-4 h-4"})," Header / Sections"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>h(!d),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:[(0,t.jsx)(r.Plus,{className:"w-4 h-4"}),d?"Close Form":"Edit Header"]})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(i.AdminTable,{title:"Blog Header",data:[l],columns:[{header:"Hero Title",accessor:"heroTitle",className:"w-[180px] truncate"},{header:"Hero Subtitle",accessor:"heroSubtitle",className:"w-[200px] max-w-[300px]  truncate"},{header:"Footer Title",accessor:"footerTitle",className:"w-[180px]"},{header:"Footer Subtitle",accessor:"footerSubtitle",className:"w-[200px] max-w-[300px]  truncate"}]})}),d&&(0,t.jsx)("div",{className:"card-body border-t pt-6",children:(0,t.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await o(c),n(c),h(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Hero Title"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 transition-colors  rounded-lg px-3 py-2",value:c.heroTitle,onChange:e=>u({...c,heroTitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Hero Subtitle"}),(0,t.jsx)("textarea",{className:"w-full border text-slate-900  rounded-lg px-3 py-2",rows:2,value:c.heroSubtitle,onChange:e=>u({...c,heroSubtitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Footer Title"}),(0,t.jsx)("input",{className:"w-full text-slate-900  border rounded-lg px-3 py-2",value:c.footerTitle,onChange:e=>u({...c,footerTitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Footer Subtitle"}),(0,t.jsx)("textarea",{className:"w-full border text-slate-900  rounded-lg px-3 py-2",rows:2,value:c.footerSubtitle,onChange:e=>u({...c,footerSubtitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-3",children:[(0,t.jsx)("button",{type:"button",className:"px-4 py-2 rounded-lg border",onClick:()=>u(l),children:"Reset"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white",children:"Save Header"})]})]})})]})}var n=e.i(46696);let o=["Engineering","Hiring","Company","Product","Culture","Announcements"],c=["Featured","Trending","How-To","Case Study","News","Opinion"],u=e=>e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),d=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")};var h=e.i(86417),p=e.i(64255),m=e.i(58672),f=e.i(86536),g=e.i(83627),v=e.i(27612),x=e.i(22016),b=e.i(57688),y=e.i(66540),_=e.i(11540);function w(e){let{posts:a,onEdit:r,onDeletePost:l}=e,[n,o]=(0,s.useState)(null),c=[{header:"Image",render:e=>e.image?(0,t.jsx)("div",{className:"relative h-12 w-12 overflow-hidden rounded-md border",children:(0,t.jsx)(b.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover",sizes:"48px"})}):(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"No image"}),className:"w-[80px]"},{header:"Title",accessor:"title",className:"w-[200px] max-w-[300px] truncate"},{header:"Author",accessor:"author",className:"w-[180px] truncate"},{header:"Date",render:e=>(0,y.default)(e.timestamp).fromNow(),className:"w-[180px] truncate"},{header:"Actions",render:e=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(x.default,{href:"/blog/".concat(e.id,"/").concat(e.slug),className:"text-blue-600 hover:underline flex items-center gap-1",children:(0,t.jsx)(f.Eye,{className:"w-4 h-4"})}),(0,t.jsx)("button",{type:"button",className:"text-amber-600 flex items-center gap-1",onClick:()=>r(e),children:(0,t.jsx)(g.Edit3,{className:"w-4 h-4"})}),(0,t.jsx)("button",{type:"button",className:"text-rose-600 flex items-center gap-1",onClick:()=>o(e),children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]})}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.AdminTable,{title:"All Blog Posts",data:a,columns:c,rowKey:e=>e.id}),n&&(0,t.jsx)(_.default,{isOpen:!!n,title:"Delete Post",message:'Are you sure you want to delete "'.concat(n.title,'"?'),confirmText:"Delete",cancelText:"Cancel",onConfirm:()=>{l(n),o(null)},onCancel:()=>o(null)})]})}var j=e.i(51975);function N(e){let{value:s,onChange:a}=e;return(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>{let r=s===e;return(0,t.jsx)("button",{type:"button",onClick:()=>a(e),className:d("px-3 py-1 rounded-full text-sm border transition-all",r?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),"aria-pressed":r,children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(j.Tag,{className:"w-3.5 h-3.5"}),e]})},e)})})}var C=e.i(64227);function R(e){let{newPost:a,errors:r,isUploading:i,handleImageUpload:l}=e,[n,o]=(0,s.useState)(null);return(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Image"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&(l(s),o(URL.createObjectURL(s)))}}),i&&(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Uploading..."}),(n||a.image)&&(0,t.jsx)("div",{className:"relative w-16 h-16",children:(0,t.jsx)(b.default,{src:n||a.image,alt:"Preview",fill:!0,className:"rounded-md object-cover"})})]}),r.image&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.image})]})}function S(e){let{newPost:a,setNewPost:r,errors:i,isUploading:l,handleImageUpload:n}=e,[c]=(0,s.useState)(null);return(0,s.useEffect)(()=>()=>{c&&URL.revokeObjectURL(c)},[c]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Title"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.title,onChange:e=>r(t=>({...t,title:e.target.value}))}),i.title&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.title})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Category"}),(0,t.jsx)("select",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.category,onChange:e=>r(t=>({...t,category:e.target.value})),children:o.map(e=>(0,t.jsx)("option",{children:e},e))}),i.category&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.category})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Author"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.author,onChange:e=>r(t=>({...t,author:e.target.value}))}),i.author&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.author})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Read Time"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.readTime,onChange:e=>r(t=>({...t,readTime:e.target.value}))}),i.readTime&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.readTime})]}),(0,t.jsx)(R,{newPost:a,errors:i,isUploading:l,handleImageUpload:n}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Tags"}),(0,t.jsx)(N,{value:a.tags,onChange:e=>r(t=>({...t,tags:e}))}),i.tags&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.tags})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Excerpt"}),(0,t.jsx)("textarea",{value:a.excerpt,onChange:e=>r(t=>({...t,excerpt:e.target.value})),className:"mt-1 block w-full p-2 border text-slate-900 rounded-lg shadow-sm",rows:4}),i.excerpt&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.excerpt})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Content"}),(0,t.jsx)(C.default,{value:a.content,onChange:e=>r(t=>({...t,content:e}))}),i.content&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.content})]})]})}var k=e.i(94706);let E=k.default.object({title:k.default.string().min(1,"Title is required"),category:k.default.string().min(1,"Category is required"),tags:k.default.string().min(1,"At least one tag is required"),excerpt:k.default.string().min(1,"Excerpt is required"),content:k.default.string().min(1,"Content is required"),author:k.default.string().min(1,"Author is required"),readTime:k.default.string().min(1,"Read time is required"),image:k.default.string().url("Valid image URL required").or(k.default.literal("")),timestamp:k.default.number()});function O(e){let{posts:a,onAddPost:i,onDeletePost:l}=e,[n,c]=(0,s.useState)(!1),[d,f]=(0,s.useState)(!1),[g,v]=(0,s.useState)({}),[x,b]=(0,s.useState)(null),[y,_]=(0,s.useState)(null),[j,N]=(0,s.useState)({title:"",category:o[0],tags:"",excerpt:"",content:"",author:"",readTime:"5 min read",image:"",timestamp:Date.now()}),C=()=>{N({title:"",category:o[0],tags:"",excerpt:"",content:"",author:"",readTime:"5 min read",image:"",timestamp:Date.now()}),b(null),v({}),_(null)},R=async e=>{e.preventDefault(),v({});let t=E.safeParse(j);if(!t.success){let e={};t.error.issues.forEach(t=>{e[t.path[0]]=t.message}),v(e);return}let s=j.image;if(y&&((null==x?void 0:x.image)&&await (0,h.deleteFileFromR2)(x.image),s=await (0,p.uploadFileToR2)(y,f)),x)await (0,m.updateBlogPost)(x.id,{...j,image:s,slug:u(j.title||x.id),timestamp:Date.now()});else{let e=Date.now().toString(),t=u(j.title||e);i({id:e,slug:t,...j,image:s,timestamp:Date.now()})}C(),c(!1)};return(0,t.jsxs)("div",{className:"card mb-8",children:[(0,t.jsxs)("div",{className:"card-header flex justify-between",children:[(0,t.jsxs)("p",{className:"card-title flex items-center gap-2",children:[(0,t.jsx)(r.Plus,{className:"w-4 h-4"})," Blog Posts"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{C(),c(!n)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:[(0,t.jsx)(r.Plus,{className:"w-4 h-4"}),n?"Close Form":"Add New"]})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(w,{posts:a,onEdit:e=>{b(e),N({...e}),c(!0)},onDeletePost:l})}),n&&(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("form",{onSubmit:R,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(S,{newPost:j,setNewPost:N,errors:g,isUploading:d,handleImageUpload:e=>{_(e),N({...j,image:""})}}),(0,t.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-3",children:[(0,t.jsx)("button",{type:"reset",className:"px-4 py-2 rounded-lg border",onClick:C,children:"Clear"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white",children:x?"Update Post":"Add Post"})]})]})})]})}var T=e.i(54616),M=e.i(66027),P=e.i(12598);e.i(36180);var D=e.i(98925),F=e.i(78122);let I=async()=>{let e=(0,D.collection)(F.db,"posts");return(await (0,D.getDocs)(e)).docs.map(e=>({...e.data(),id:e.id}))};function A(){let e=(0,P.useQueryClient)(),{data:a,isLoading:r}=(0,M.useQuery)({queryKey:["blogHeader"],queryFn:m.getBlogHeader}),{data:i,isLoading:o}=(()=>{let e=(0,P.useQueryClient)(),t=(0,M.useQuery)({queryKey:["blogPosts"],queryFn:I});return(0,s.useEffect)(()=>{let t=(e=>{let t=(0,D.query)((0,D.collection)(F.db,"posts"),(0,D.orderBy)("timestamp","desc"));return(0,D.onSnapshot)(t,t=>{e(t.docs.map(e=>({...e.data(),id:e.id})))})})(t=>{e.setQueryData(["blogPosts"],t)});return()=>t()},[e]),t})(),c=(0,T.useMutation)({mutationFn:e=>(0,m.saveBlogHeader)(e),onSuccess:()=>e.invalidateQueries({queryKey:["blogHeader"]})}),u=(0,T.useMutation)({mutationFn:e=>(0,m.addBlogPost)(e),onSuccess:()=>e.invalidateQueries({queryKey:["blogPosts"]})}),d=(0,T.useMutation)({mutationFn:m.deleteBlogPost,onSuccess:()=>{n.toast.success("Post deleted successfully"),e.invalidateQueries({queryKey:["blogPosts"]})},onError:()=>{n.toast.error("Failed to delete post")}});return(0,t.jsx)("div",{className:"min-h-screen ",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto p-6 lg:p-10",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Admin Â· Blog Manager"}),r?(0,t.jsx)("p",{children:"Loading header..."}):(0,t.jsx)(l,{header:a||{heroTitle:"",heroSubtitle:"",footerTitle:"",footerSubtitle:""},setHeader:e=>c.mutate(e),onSave:e=>c.mutateAsync(e)}),o?(0,t.jsx)("p",{children:"Loading posts..."}):(0,t.jsx)(O,{posts:null!=i?i:[],onAddPost:e=>u.mutate(e),onDeletePost:e=>d.mutate(e)})]})})}},14357,e=>{e.v(t=>Promise.all(["static/chunks/c796c95f2e225ab9.js","static/chunks/ba7d48bf3542fe79.js"].map(t=>e.l(t))).then(()=>t(13441)))}]);