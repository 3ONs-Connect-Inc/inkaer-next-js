(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66027,e=>{"use strict";e.s(["useQuery",()=>es],66027);var t,s,a,i,r,l,n,o,d,c,u,h,p,m,f,g,x,b,v,y,_,w,j,N,C=e.i(39946),R=e.i(70292),S=e.i(62351),k=e.i(37696),E=e.i(88245),O=e.i(75555),T=e.i(40143),D=e.i(86491),M=e.i(15823),P=e.i(93803),F=e.i(19273),I=e.i(80166),A=(t=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap,r=new WeakMap,l=new WeakMap,n=new WeakMap,o=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,g=new WeakSet,x=new WeakSet,b=new WeakSet,v=new WeakSet,y=new WeakSet,_=new WeakSet,w=new WeakSet,j=new WeakSet,N=new WeakSet,class extends M.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,C._)(this,s).addObserver(this),W((0,C._)(this,s),this.options)?(0,k._)(this,g,Q).call(this):this.updateResult(),(0,k._)(this,y,z).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U((0,C._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U((0,C._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,k._)(this,_,V).call(this),(0,k._)(this,w,G).call(this),(0,C._)(this,s).removeObserver(this)}setOptions(e){let a=this.options,i=(0,C._)(this,s);if(this.options=(0,C._)(this,t).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,k._)(this,j,X).call(this),(0,C._)(this,s).setOptions(this.options),a._defaulted&&!(0,F.shallowEqualObjects)(this.options,a)&&(0,C._)(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,C._)(this,s),observer:this});let r=this.hasListeners();r&&q((0,C._)(this,s),i,this.options,a)&&(0,k._)(this,g,Q).call(this),this.updateResult(),r&&((0,C._)(this,s)!==i||(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s))!==(0,F.resolveEnabled)(a.enabled,(0,C._)(this,s))||(0,F.resolveStaleTime)(this.options.staleTime,(0,C._)(this,s))!==(0,F.resolveStaleTime)(a.staleTime,(0,C._)(this,s)))&&(0,k._)(this,x,L).call(this);let l=(0,k._)(this,b,B).call(this);r&&((0,C._)(this,s)!==i||(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s))!==(0,F.resolveEnabled)(a.enabled,(0,C._)(this,s))||l!==(0,C._)(this,m))&&(0,k._)(this,v,K).call(this,l)}getOptimisticResult(e){var a,n;let o=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),e),d=this.createResult(o,e);return a=this,n=d,(0,F.shallowEqualObjects)(a.getCurrentResult(),n)||((0,S._)(this,i,d),(0,S._)(this,l,this.options),(0,S._)(this,r,(0,C._)(this,s).state)),d}getCurrentResult(){return(0,C._)(this,i)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"!==s||this.options.experimental_prefetchInRender||"pending"!==(0,C._)(this,n).status||(0,C._)(this,n).reject(Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,s))})}trackProp(e){(0,C._)(this,f).add(e)}getCurrentQuery(){return(0,C._)(this,s)}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){let s=(0,C._)(this,t).defaultQueryOptions(e),a=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),s);return a.fetch().then(()=>this.createResult(a,s))}fetch(e){var t;return(0,k._)(this,g,Q).call(this,{...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),(0,C._)(this,i)))}createResult(e,t){let h,p=(0,C._)(this,s),m=this.options,f=(0,C._)(this,i),g=(0,C._)(this,r),x=(0,C._)(this,l),b=e!==p?e.state:(0,C._)(this,a),{state:v}=e,y={...v},_=!1;if(t._optimisticResults){let s=this.hasListeners(),a=!s&&W(e,t),i=s&&q(e,p,t,m);(a||i)&&(y={...y,...(0,D.fetchState)(v.data,e.options)}),"isRestoring"===t._optimisticResults&&(y.fetchStatus="idle")}let{error:w,errorUpdatedAt:j,status:N}=y;h=y.data;let R=!1;if(void 0!==t.placeholderData&&void 0===h&&"pending"===N){let e;if((null==f?void 0:f.isPlaceholderData)&&t.placeholderData===(null==x?void 0:x.placeholderData))e=f.data,R=!0;else{var k;e="function"==typeof t.placeholderData?t.placeholderData(null==(k=(0,C._)(this,u))?void 0:k.state.data,(0,C._)(this,u)):t.placeholderData}void 0!==e&&(N="success",h=(0,F.replaceData)(null==f?void 0:f.data,e,t),_=!0)}if(t.select&&void 0!==h&&!R)if(f&&h===(null==g?void 0:g.data)&&t.select===(0,C._)(this,d))h=(0,C._)(this,c);else try{(0,S._)(this,d,t.select),h=t.select(h),h=(0,F.replaceData)(null==f?void 0:f.data,h,t),(0,S._)(this,c,h),(0,S._)(this,o,null)}catch(e){(0,S._)(this,o,e)}(0,C._)(this,o)&&(w=(0,C._)(this,o),h=(0,C._)(this,c),j=Date.now(),N="error");let E="fetching"===y.fetchStatus,O="pending"===N,T="error"===N,M=O&&E,I=void 0!==h,A={status:N,fetchStatus:y.fetchStatus,isPending:O,isSuccess:"success"===N,isError:T,isInitialLoading:M,isLoading:M,data:h,dataUpdatedAt:y.dataUpdatedAt,error:w,errorUpdatedAt:j,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>b.dataUpdateCount||y.errorUpdateCount>b.errorUpdateCount,isFetching:E,isRefetching:E&&!O,isLoadingError:T&&!I,isPaused:"paused"===y.fetchStatus,isPlaceholderData:_,isRefetchError:T&&I,isStale:H(e,t),refetch:this.refetch,promise:(0,C._)(this,n),isEnabled:!1!==(0,F.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===A.status?e.reject(A.error):void 0!==A.data&&e.resolve(A.data)},s=()=>{t((0,S._)(this,n,A.promise=(0,P.pendingThenable)()))},a=(0,C._)(this,n);switch(a.status){case"pending":e.queryHash===p.queryHash&&t(a);break;case"fulfilled":("error"===A.status||A.data!==a.value)&&s();break;case"rejected":("error"!==A.status||A.error!==a.reason)&&s()}}return A}updateResult(){let e=(0,C._)(this,i),t=this.createResult((0,C._)(this,s),this.options);if((0,S._)(this,r,(0,C._)(this,s).state),(0,S._)(this,l,this.options),void 0!==(0,C._)(this,r).data&&(0,S._)(this,u,(0,C._)(this,s)),(0,F.shallowEqualObjects)(t,e))return;(0,S._)(this,i,t);let a=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,C._)(this,f).size)return!0;let a=new Set(null!=s?s:(0,C._)(this,f));return this.options.throwOnError&&a.add("error"),Object.keys((0,C._)(this,i)).some(t=>(0,C._)(this,i)[t]!==e[t]&&a.has(t))};(0,k._)(this,N,Z).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,k._)(this,y,z).call(this)}constructor(e,C){super(),(0,E._)(this,g),(0,E._)(this,x),(0,E._)(this,b),(0,E._)(this,v),(0,E._)(this,y),(0,E._)(this,_),(0,E._)(this,w),(0,E._)(this,j),(0,E._)(this,N),(0,R._)(this,t,{writable:!0,value:void 0}),(0,R._)(this,s,{writable:!0,value:void 0}),(0,R._)(this,a,{writable:!0,value:void 0}),(0,R._)(this,i,{writable:!0,value:void 0}),(0,R._)(this,r,{writable:!0,value:void 0}),(0,R._)(this,l,{writable:!0,value:void 0}),(0,R._)(this,n,{writable:!0,value:void 0}),(0,R._)(this,o,{writable:!0,value:void 0}),(0,R._)(this,d,{writable:!0,value:void 0}),(0,R._)(this,c,{writable:!0,value:void 0}),(0,R._)(this,u,{writable:!0,value:void 0}),(0,R._)(this,h,{writable:!0,value:void 0}),(0,R._)(this,p,{writable:!0,value:void 0}),(0,R._)(this,m,{writable:!0,value:void 0}),(0,R._)(this,f,{writable:!0,value:new Set}),this.options=C,(0,S._)(this,t,e),(0,S._)(this,o,null),(0,S._)(this,n,(0,P.pendingThenable)()),this.bindMethods(),this.setOptions(C)}});function W(e,t){return!1!==(0,F.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&U(e,t,t.refetchOnMount)}function U(e,t,s){if(!1!==(0,F.resolveEnabled)(t.enabled,e)&&"static"!==(0,F.resolveStaleTime)(t.staleTime,e)){let a="function"==typeof s?s(e):s;return"always"===a||!1!==a&&H(e,t)}return!1}function q(e,t,s,a){return(e!==t||!1===(0,F.resolveEnabled)(a.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&H(e,s)}function H(e,t){return!1!==(0,F.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,F.resolveStaleTime)(t.staleTime,e))}function Q(e){(0,k._)(this,j,X).call(this);let t=(0,C._)(this,s).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(F.noop)),t}function L(){(0,k._)(this,_,V).call(this);let e=(0,F.resolveStaleTime)(this.options.staleTime,(0,C._)(this,s));if(F.isServer||(0,C._)(this,i).isStale||!(0,F.isValidTimeout)(e))return;let t=(0,F.timeUntilStale)((0,C._)(this,i).dataUpdatedAt,e);(0,S._)(this,h,I.timeoutManager.setTimeout(()=>{(0,C._)(this,i).isStale||this.updateResult()},t+1))}function B(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,C._)(this,s)):this.options.refetchInterval)&&e}function K(e){(0,k._)(this,w,G).call(this),(0,S._)(this,m,e),!F.isServer&&!1!==(0,F.resolveEnabled)(this.options.enabled,(0,C._)(this,s))&&(0,F.isValidTimeout)((0,C._)(this,m))&&0!==(0,C._)(this,m)&&(0,S._)(this,p,I.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||O.focusManager.isFocused())&&(0,k._)(this,g,Q).call(this)},(0,C._)(this,m)))}function z(){(0,k._)(this,x,L).call(this),(0,k._)(this,v,K).call(this,(0,k._)(this,b,B).call(this))}function V(){(0,C._)(this,h)&&(I.timeoutManager.clearTimeout((0,C._)(this,h)),(0,S._)(this,h,void 0))}function G(){(0,C._)(this,p)&&(I.timeoutManager.clearInterval((0,C._)(this,p)),(0,S._)(this,p,void 0))}function X(){let e=(0,C._)(this,t).getQueryCache().build((0,C._)(this,t),this.options);if(e===(0,C._)(this,s))return;let i=(0,C._)(this,s);(0,S._)(this,s,e),(0,S._)(this,a,e.state),this.hasListeners()&&(null==i||i.removeObserver(this),e.addObserver(this))}function Z(e){T.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,C._)(this,i))}),(0,C._)(this,t).getQueryCache().notify({query:(0,C._)(this,s),type:"observerResultsUpdated"})})}e.i(47167);var Y=e.i(71645),$=e.i(12598);e.i(43476);var J=Y.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ee=Y.createContext(!1);ee.Provider;var et=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function es(e,t){return function(e,t,s){var a,i,r,l,n;let o=Y.useContext(ee),d=Y.useContext(J),c=(0,$.useQueryClient)(s),u=c.defaultQueryOptions(e);if(null==(i=c.getDefaultOptions().queries)||null==(a=i._experimental_beforeQuery)||a.call(i,u),u._optimisticResults=o?"isRestoring":"optimistic",u.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=u.staleTime;u.staleTime="function"==typeof t?function(){for(var s=arguments.length,a=Array(s),i=0;i<s;i++)a[i]=arguments[i];return e(t(...a))}:e(t),"number"==typeof u.gcTime&&(u.gcTime=Math.max(u.gcTime,1e3))}(u.suspense||u.throwOnError||u.experimental_prefetchInRender)&&!d.isReset()&&(u.retryOnMount=!1),Y.useEffect(()=>{d.clearReset()},[d]);let h=!c.getQueryCache().get(u.queryHash),[p]=Y.useState(()=>new t(c,u)),m=p.getOptimisticResult(u),f=!o&&!1!==e.subscribed;if(Y.useSyncExternalStore(Y.useCallback(e=>{let t=f?p.subscribe(T.notifyManager.batchCalls(e)):F.noop;return p.updateResult(),t},[p,f]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),Y.useEffect(()=>{p.setOptions(u)},[u,p]),(null==u?void 0:u.suspense)&&m.isPending)throw et(u,p,d);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:a,query:i,suspense:r}=e;return t.isError&&!s.isReset()&&!t.isFetching&&i&&(r&&void 0===t.data||(0,F.shouldThrowError)(a,[t.error,i]))})({result:m,errorResetBoundary:d,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw m.error;if(null==(l=c.getDefaultOptions().queries)||null==(r=l._experimental_afterQuery)||r.call(l,u,m),u.experimental_prefetchInRender&&!F.isServer&&m.isLoading&&m.isFetching&&!o){let e=h?et(u,p,d):null==(n=c.getQueryCache().get(u.queryHash))?void 0:n.promise;null==e||e.catch(F.noop).finally(()=>{p.updateResult()})}return u.notifyOnChangeProps?m:p.trackResult(m)}(e,A,t)}},54616,e=>{"use strict";e.s(["useMutation",()=>_],54616);var t,s,a,i,r,l,n=e.i(71645),o=e.i(39946),d=e.i(70292),c=e.i(62351),u=e.i(37696),h=e.i(88245),p=e.i(14272),m=e.i(40143),f=e.i(15823),g=e.i(19273),x=(t=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap,r=new WeakSet,l=new WeakSet,class extends f.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;let i=this.options;this.options=(0,o._)(this,t).defaultMutationOptions(e),(0,g.shallowEqualObjects)(this.options,i)||(0,o._)(this,t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,o._)(this,a),observer:this}),(null==i?void 0:i.mutationKey)&&this.options.mutationKey&&(0,g.hashKey)(i.mutationKey)!==(0,g.hashKey)(this.options.mutationKey)?this.reset():(null==(s=(0,o._)(this,a))?void 0:s.state.status)==="pending"&&(0,o._)(this,a).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,o._)(this,a))||e.removeObserver(this)}}onMutationUpdate(e){(0,u._)(this,r,b).call(this),(0,u._)(this,l,v).call(this,e)}getCurrentResult(){return(0,o._)(this,s)}reset(){var e;null==(e=(0,o._)(this,a))||e.removeObserver(this),(0,c._)(this,a,void 0),(0,u._)(this,r,b).call(this),(0,u._)(this,l,v).call(this)}mutate(e,s){var r;return(0,c._)(this,i,s),null==(r=(0,o._)(this,a))||r.removeObserver(this),(0,c._)(this,a,(0,o._)(this,t).getMutationCache().build((0,o._)(this,t),this.options)),(0,o._)(this,a).addObserver(this),(0,o._)(this,a).execute(e)}constructor(e,n){super(),(0,h._)(this,r),(0,h._)(this,l),(0,d._)(this,t,{writable:!0,value:void 0}),(0,d._)(this,s,{writable:!0,value:void 0}),(0,d._)(this,a,{writable:!0,value:void 0}),(0,d._)(this,i,{writable:!0,value:void 0}),(0,c._)(this,t,e),this.setOptions(n),this.bindMethods(),(0,u._)(this,r,b).call(this)}});function b(){var e,t;let i=null!=(t=null==(e=(0,o._)(this,a))?void 0:e.state)?t:(0,p.getDefaultState)();(0,c._)(this,s,{...i,isPending:"pending"===i.status,isSuccess:"success"===i.status,isError:"error"===i.status,isIdle:"idle"===i.status,mutate:this.mutate,reset:this.reset})}function v(e){m.notifyManager.batch(()=>{if((0,o._)(this,i)&&this.hasListeners()){var a,r,l,n,d,c,u,h;let p=(0,o._)(this,s).variables,m=(0,o._)(this,s).context,f={client:(0,o._)(this,t),meta:this.options.meta,mutationKey:this.options.mutationKey};(null==e?void 0:e.type)==="success"?(null==(a=(r=(0,o._)(this,i)).onSuccess)||a.call(r,e.data,p,m,f),null==(l=(n=(0,o._)(this,i)).onSettled)||l.call(n,e.data,null,p,m,f)):(null==e?void 0:e.type)==="error"&&(null==(d=(c=(0,o._)(this,i)).onError)||d.call(c,e.error,p,m,f),null==(u=(h=(0,o._)(this,i)).onSettled)||u.call(h,void 0,e.error,p,m,f))}this.listeners.forEach(e=>{e((0,o._)(this,s))})})}var y=e.i(12598);function _(e,t){let s=(0,y.useQueryClient)(t),[a]=n.useState(()=>new x(s,e));n.useEffect(()=>{a.setOptions(e)},[a,e]);let i=n.useSyncExternalStore(n.useCallback(e=>a.subscribe(m.notifyManager.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),r=n.useCallback((e,t)=>{a.mutate(e,t).catch(g.noop)},[a]);if(i.error&&(0,g.shouldThrowError)(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:r,mutateAsync:i.mutate}}},91918,20783,e=>{"use strict";e.s(["Slot",()=>n,"createSlot",()=>l,"createSlottable",()=>d],91918);var t=e.i(71645);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1,i=t.map(t=>{let i=s(t,e);return a||"function"!=typeof i||(a=!0),i});if(a)return()=>{for(let e=0;e<i.length;e++){let a=i[e];"function"==typeof a?a():s(t[e],null)}}}}function i(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];return t.useCallback(a(...s),s)}e.s(["composeRefs",()=>a,"useComposedRefs",()=>i],20783);var r=e.i(43476);function l(e){let s=function(e){let s=t.forwardRef((e,s)=>{let{children:i,...r}=e;if(t.isValidElement(i)){var l,n,o;let e,d,c=(d=(e=null==(n=Object.getOwnPropertyDescriptor((l=i).props,"ref"))?void 0:n.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(d=(e=null==(o=Object.getOwnPropertyDescriptor(l,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref,u=function(e,t){let s={...t};for(let a in t){let i=e[a],r=t[a];/^on[A-Z]/.test(a)?i&&r?s[a]=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let a=r(...t);return i(...t),a}:i&&(s[a]=i):"style"===a?s[a]={...i,...r}:"className"===a&&(s[a]=[i,r].filter(Boolean).join(" "))}return{...e,...s}}(r,i.props);return i.type!==t.Fragment&&(u.ref=s?a(s,c):c),t.cloneElement(i,u)}return t.Children.count(i)>1?t.Children.only(null):null});return s.displayName="".concat(e,".SlotClone"),s}(e),i=t.forwardRef((e,a)=>{let{children:i,...l}=e,n=t.Children.toArray(i),o=n.find(c);if(o){let e=o.props.children,i=n.map(s=>s!==o?s:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,r.jsx)(s,{...l,ref:a,children:t.isValidElement(e)?t.cloneElement(e,void 0,i):null})}return(0,r.jsx)(s,{...l,ref:a,children:i})});return i.displayName="".concat(e,".Slot"),i}var n=l("Slot"),o=Symbol("radix.slottable");function d(e){let t=e=>{let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=o,t}function c(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},48425,e=>{"use strict";e.s(["Primitive",()=>r,"dispatchDiscreteCustomEvent",()=>l]);var t=e.i(71645),s=e.i(74080),a=e.i(91918),i=e.i(43476),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=(0,a.createSlot)("Primitive.".concat(s)),l=t.forwardRef((e,t)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(a?r:s,{...l,ref:t})});return l.displayName="Primitive.".concat(s),{...e,[s]:l}},{});function l(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},86417,e=>{"use strict";e.s(["deleteFileFromR2",()=>s]);var t=e.i(46696);let s=async e=>{try{let s=new URL(e).pathname.replace("/files/","");if(!(await fetch("".concat("https://cloudflare-upload.portfolio-uploads.workers.dev","/files/").concat(s),{method:"DELETE"})).ok)throw Error("Failed to delete file from R2");t.toast.success("Previous image deleted from R2")}catch(e){console.error("File deletion failed:",e),t.toast.error("Failed to delete old image from R2")}}},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},37727,e=>{"use strict";e.s(["X",()=>t],37727);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99145,e=>{"use strict";e.s(["AdminTable",()=>s]);var t=e.i(43476);function s(e){let{title:s,data:a,columns:i,rowKey:r=(e,t)=>t,className:l=""}=e;return(0,t.jsxs)("div",{className:"card ".concat(l),children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("p",{className:"card-title",children:s})}),(0,t.jsx)("div",{className:"card-body p-0",children:(0,t.jsx)("div",{className:"relative h-auto w-full overflow-auto rounded-none [scrollbar-width:_thin]",children:(0,t.jsxs)("table",{className:"table table-fixed w-full min-w-[700px] border-collapse",children:[(0,t.jsx)("thead",{className:"table-header",children:(0,t.jsx)("tr",{className:"table-row",children:i.map((e,s)=>(0,t.jsx)("th",{className:"table-head ".concat(e.className||""),children:e.header},s))})}),(0,t.jsx)("tbody",{className:"table-body",children:0===a.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:i.length,className:"text-center py-6 text-gray-500",children:"No data available"})}):a.map((e,s)=>(0,t.jsx)("tr",{className:"table-row",children:i.map((a,i)=>{var r;return(0,t.jsx)("td",{className:"table-cell ".concat(a.className||""),children:a.render?a.render(e,s):null!=(r=e[a.accessor])?r:""},i)})},r(e,s)))})]})})})]})}},27612,11540,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>ea],11540);var s=e.i(43476),a=e.i(71645),i=e.i(81140),r=e.i(20783),l=e.i(30030),n=e.i(10772),o=e.i(69340),d=e.i(26330),c=e.i(65491),u=e.i(74606),h=e.i(96626),p=e.i(48425),m=e.i(3536),f=e.i(85369),g=e.i(86312),x=e.i(91918),b="Dialog",[v,y]=(0,l.createContextScope)(b),[_,w]=v(b),j=e=>{let{__scopeDialog:t,children:i,open:r,defaultOpen:l,onOpenChange:d,modal:c=!0}=e,u=a.useRef(null),h=a.useRef(null),[p,m]=(0,o.useControllableState)({prop:r,defaultProp:null!=l&&l,onChange:d,caller:b});return(0,s.jsx)(_,{scope:t,triggerRef:u,contentRef:h,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:c,children:i})};j.displayName=b;var N="DialogTrigger";a.forwardRef((e,t)=>{let{__scopeDialog:a,...l}=e,n=w(N,a),o=(0,r.useComposedRefs)(t,n.triggerRef);return(0,s.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":B(n.open),...l,ref:o,onClick:(0,i.composeEventHandlers)(e.onClick,n.onOpenToggle)})}).displayName=N;var C="DialogPortal",[R,S]=v(C,{forceMount:void 0}),k=e=>{let{__scopeDialog:t,forceMount:i,children:r,container:l}=e,n=w(C,t);return(0,s.jsx)(R,{scope:t,forceMount:i,children:a.Children.map(r,e=>(0,s.jsx)(h.Presence,{present:i||n.open,children:(0,s.jsx)(u.Portal,{asChild:!0,container:l,children:e})}))})};k.displayName=C;var E="DialogOverlay",O=a.forwardRef((e,t)=>{let a=S(E,e.__scopeDialog),{forceMount:i=a.forceMount,...r}=e,l=w(E,e.__scopeDialog);return l.modal?(0,s.jsx)(h.Presence,{present:i||l.open,children:(0,s.jsx)(D,{...r,ref:t})}):null});O.displayName=E;var T=(0,x.createSlot)("DialogOverlay.RemoveScroll"),D=a.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,r=w(E,a);return(0,s.jsx)(f.RemoveScroll,{as:T,allowPinchZoom:!0,shards:[r.contentRef],children:(0,s.jsx)(p.Primitive.div,{"data-state":B(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),M="DialogContent",P=a.forwardRef((e,t)=>{let a=S(M,e.__scopeDialog),{forceMount:i=a.forceMount,...r}=e,l=w(M,e.__scopeDialog);return(0,s.jsx)(h.Presence,{present:i||l.open,children:l.modal?(0,s.jsx)(F,{...r,ref:t}):(0,s.jsx)(I,{...r,ref:t})})});P.displayName=M;var F=a.forwardRef((e,t)=>{let l=w(M,e.__scopeDialog),n=a.useRef(null),o=(0,r.useComposedRefs)(t,l.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,g.hideOthers)(e)},[]),(0,s.jsx)(A,{...e,ref:o,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=l.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,i.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),I=a.forwardRef((e,t)=>{let i=w(M,e.__scopeDialog),r=a.useRef(!1),l=a.useRef(!1);return(0,s.jsx)(A,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,a;null==(s=e.onCloseAutoFocus)||s.call(e,t),t.defaultPrevented||(r.current||null==(a=i.triggerRef.current)||a.focus(),t.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:t=>{var s,a;null==(s=e.onInteractOutside)||s.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let n=t.target;(null==(a=i.triggerRef.current)?void 0:a.contains(n))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),A=a.forwardRef((e,t)=>{let{__scopeDialog:i,trapFocus:l,onOpenAutoFocus:n,onCloseAutoFocus:o,...u}=e,h=w(M,i),p=a.useRef(null),f=(0,r.useComposedRefs)(t,p);return(0,m.useFocusGuards)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:n,onUnmountAutoFocus:o,children:(0,s.jsx)(d.DismissableLayer,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":B(h.open),...u,ref:f,onDismiss:()=>h.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G,{titleId:h.titleId}),(0,s.jsx)(X,{contentRef:p,descriptionId:h.descriptionId})]})]})}),W="DialogTitle",U=a.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,r=w(W,a);return(0,s.jsx)(p.Primitive.h2,{id:r.titleId,...i,ref:t})});U.displayName=W;var q="DialogDescription",H=a.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,r=w(q,a);return(0,s.jsx)(p.Primitive.p,{id:r.descriptionId,...i,ref:t})});H.displayName=q;var Q="DialogClose",L=a.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,l=w(Q,a);return(0,s.jsx)(p.Primitive.button,{type:"button",...r,ref:t,onClick:(0,i.composeEventHandlers)(e.onClick,()=>l.onOpenChange(!1))})});function B(e){return e?"open":"closed"}L.displayName=Q;var K="DialogTitleWarning",[z,V]=(0,l.createContext)(K,{contentName:M,titleName:W,docsSlug:"dialog"}),G=e=>{let{titleId:t}=e,s=V(K),i="`".concat(s.contentName,"` requires a `").concat(s.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(s.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(s.docsSlug);return a.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},X=e=>{let{contentRef:t,descriptionId:s}=e,i=V("DialogDescriptionWarning"),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(i.contentName,"}.");return a.useEffect(()=>{var e;let a=null==(e=t.current)?void 0:e.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},Z=e.i(37727),Y=e.i(28910);let $=a.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(O,{ref:t,className:(0,Y.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...i})});$.displayName=O.displayName;let J=a.forwardRef((e,t)=>{let{className:a,children:i,...r}=e;return(0,s.jsxs)(k,{children:[(0,s.jsx)($,{}),(0,s.jsxs)(P,{ref:t,className:(0,Y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[i,(0,s.jsxs)(L,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(Z.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});J.displayName=P.displayName;let ee=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,Y.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};ee.displayName="DialogHeader";let et=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,Y.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};et.displayName="DialogFooter";let es=a.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(U,{ref:t,className:(0,Y.cn)("text-lg font-semibold leading-none tracking-tight",a),...i})});function ea(e){let{isOpen:t,title:a="Confirm Action",message:i,confirmText:r="Yes",cancelText:l="Cancel",onConfirm:n,onCancel:o}=e;return(0,s.jsx)(j,{open:t,onOpenChange:e=>!e&&o(),children:(0,s.jsxs)(J,{children:[(0,s.jsx)(ee,{children:a&&(0,s.jsx)(es,{children:a})}),(0,s.jsx)("div",{className:"mb-4 border text-slate-900  dark:text-gray-50",children:i}),(0,s.jsxs)(et,{children:[(0,s.jsx)("button",{onClick:o,className:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100",children:l}),(0,s.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700",children:r})]})]})})}es.displayName=U.displayName,a.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(H,{ref:t,className:(0,Y.cn)("text-sm text-muted-foreground",a),...i})}).displayName=H.displayName},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},83627,e=>{"use strict";e.s(["Edit3",()=>t],83627);let t=(0,e.i(75254).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},64227,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476);let s=(0,e.i(70703).default)(()=>e.A(14357),{loadableGenerated:{modules:[13441]},ssr:!1}),a={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],[{align:[]}],[{font:[]},{size:[]}],["link","image"],["clean"]]},i=["header","bold","italic","underline","strike","blockquote","list","indent","color","background","align","font","size","link","image"];function r(e){let{value:r,onChange:l}=e;return(0,t.jsx)(s,{theme:"snow",value:r,onChange:l,modules:a,formats:i,className:"rounded border"})}},54506,e=>{"use strict";e.s(["default",()=>A],54506);var t=e.i(43476),s=e.i(71645),a=e.i(39616),i=e.i(7233),r=e.i(99145);function l(e){let{header:l,setHeader:n,onSave:o}=e,[d,c]=(0,s.useState)(l),[u,h]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"card mb-8",children:[(0,t.jsxs)("div",{className:"card-header flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"card-title flex items-center gap-2",children:[(0,t.jsx)(a.Settings,{className:"w-4 h-4"})," Header / Sections"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>h(!u),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:[(0,t.jsx)(i.Plus,{className:"w-4 h-4"}),u?"Close Form":"Edit Header"]})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(r.AdminTable,{title:"Blog Header",data:[l],columns:[{header:"Hero Title",accessor:"heroTitle",className:"w-[180px] truncate"},{header:"Hero Subtitle",accessor:"heroSubtitle",className:"w-[200px] max-w-[300px]  truncate"},{header:"Footer Title",accessor:"footerTitle",className:"w-[180px]"},{header:"Footer Subtitle",accessor:"footerSubtitle",className:"w-[200px] max-w-[300px]  truncate"}]})}),u&&(0,t.jsx)("div",{className:"card-body border-t pt-6",children:(0,t.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await o(d),n(d),h(!1)},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Hero Title"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 transition-colors  rounded-lg px-3 py-2",value:d.heroTitle,onChange:e=>c({...d,heroTitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Hero Subtitle"}),(0,t.jsx)("textarea",{className:"w-full border text-slate-900  rounded-lg px-3 py-2",rows:2,value:d.heroSubtitle,onChange:e=>c({...d,heroSubtitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Footer Title"}),(0,t.jsx)("input",{className:"w-full text-slate-900  border rounded-lg px-3 py-2",value:d.footerTitle,onChange:e=>c({...d,footerTitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Footer Subtitle"}),(0,t.jsx)("textarea",{className:"w-full border text-slate-900  rounded-lg px-3 py-2",rows:2,value:d.footerSubtitle,onChange:e=>c({...d,footerSubtitle:e.target.value})})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-3",children:[(0,t.jsx)("button",{type:"button",className:"px-4 py-2 rounded-lg border",onClick:()=>c(l),children:"Reset"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white",children:"Save Header"})]})]})})]})}var n=e.i(46696);let o=["Engineering","Hiring","Company","Product","Culture","Announcements"],d=["Featured","Trending","How-To","Case Study","News","Opinion"],c=e=>e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),u=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")};var h=e.i(86417);e.i(47167);let p=async(e,t)=>{let s,a=new FormData;a.append("file",e);try{t(!0),s=n.toast.loading("Uploading file please wait...");let e=await fetch("".concat("https://cloudflare-upload.portfolio-uploads.workers.dev","/upload"),{method:"POST",body:a});if(!e.ok){let t=await e.text();throw console.error("File upload failed: ".concat(t)),Error("File upload to R2 failed")}let i=await e.json();return n.toast.dismiss(s),n.toast.success("File uploaded successfully!"),i.url}catch(e){throw console.error("File upload failed:",e),s&&n.toast.dismiss(s),n.toast.error("Failed to upload to Cloudflare R2"),e}finally{t(!1)}};var m=e.i(58672),f=e.i(86536),g=e.i(83627),x=e.i(27612),b=e.i(22016),v=e.i(57688),y=e.i(66540),_=e.i(11540);function w(e){let{posts:a,onEdit:i,onDeletePost:l}=e,[n,o]=(0,s.useState)(null),d=[{header:"Image",render:e=>e.image?(0,t.jsx)("div",{className:"relative h-12 w-12 overflow-hidden rounded-md border",children:(0,t.jsx)(v.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover",sizes:"48px"})}):(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"No image"}),className:"w-[80px]"},{header:"Title",accessor:"title",className:"w-[200px] max-w-[300px] truncate"},{header:"Author",accessor:"author",className:"w-[180px] truncate"},{header:"Date",render:e=>(0,y.default)(e.timestamp).fromNow(),className:"w-[180px] truncate"},{header:"Actions",render:e=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(b.default,{href:"/blog/".concat(e.id,"/").concat(e.slug),className:"text-blue-600 hover:underline flex items-center gap-1",children:(0,t.jsx)(f.Eye,{className:"w-4 h-4"})}),(0,t.jsx)("button",{type:"button",className:"text-amber-600 flex items-center gap-1",onClick:()=>i(e),children:(0,t.jsx)(g.Edit3,{className:"w-4 h-4"})}),(0,t.jsx)("button",{type:"button",className:"text-rose-600 flex items-center gap-1",onClick:()=>o(e),children:(0,t.jsx)(x.Trash2,{className:"w-4 h-4"})})]})}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.AdminTable,{title:"All Blog Posts",data:a,columns:d,rowKey:e=>e.id}),n&&(0,t.jsx)(_.default,{isOpen:!!n,title:"Delete Post",message:'Are you sure you want to delete "'.concat(n.title,'"?'),confirmText:"Delete",cancelText:"Cancel",onConfirm:()=>{l(n),o(null)},onCancel:()=>o(null)})]})}var j=e.i(51975);function N(e){let{value:s,onChange:a}=e;return(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(e=>{let i=s===e;return(0,t.jsx)("button",{type:"button",onClick:()=>a(e),className:u("px-3 py-1 rounded-full text-sm border transition-all",i?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),"aria-pressed":i,children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,t.jsx)(j.Tag,{className:"w-3.5 h-3.5"}),e]})},e)})})}var C=e.i(64227);function R(e){let{newPost:a,errors:i,isUploading:r,handleImageUpload:l}=e,[n,o]=(0,s.useState)(null);return(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Image"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&(l(s),o(URL.createObjectURL(s)))}}),r&&(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Uploading..."}),(n||a.image)&&(0,t.jsx)("div",{className:"relative w-16 h-16",children:(0,t.jsx)(v.default,{src:n||a.image,alt:"Preview",fill:!0,className:"rounded-md object-cover"})})]}),i.image&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:i.image})]})}function S(e){let{newPost:a,setNewPost:i,errors:r,isUploading:l,handleImageUpload:n}=e,[d]=(0,s.useState)(null);return(0,s.useEffect)(()=>()=>{d&&URL.revokeObjectURL(d)},[d]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Title"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.title,onChange:e=>i(t=>({...t,title:e.target.value}))}),r.title&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.title})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Category"}),(0,t.jsx)("select",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.category,onChange:e=>i(t=>({...t,category:e.target.value})),children:o.map(e=>(0,t.jsx)("option",{children:e},e))}),r.category&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.category})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Author"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.author,onChange:e=>i(t=>({...t,author:e.target.value}))}),r.author&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.author})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Read Time"}),(0,t.jsx)("input",{className:"w-full border text-slate-900 rounded-lg px-3 py-2",value:a.readTime,onChange:e=>i(t=>({...t,readTime:e.target.value}))}),r.readTime&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.readTime})]}),(0,t.jsx)(R,{newPost:a,errors:r,isUploading:l,handleImageUpload:n}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Tags"}),(0,t.jsx)(N,{value:a.tags,onChange:e=>i(t=>({...t,tags:e}))}),r.tags&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.tags})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Excerpt"}),(0,t.jsx)("textarea",{value:a.excerpt,onChange:e=>i(t=>({...t,excerpt:e.target.value})),className:"mt-1 block w-full p-2 border text-slate-900 rounded-lg shadow-sm",rows:4}),r.excerpt&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.excerpt})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Content"}),(0,t.jsx)(C.default,{value:a.content,onChange:e=>i(t=>({...t,content:e}))}),r.content&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:r.content})]})]})}e.i(98821);var k=e.i(22219);let E=k.object({title:k.string().min(1,"Title is required"),category:k.string().min(1,"Category is required"),tags:k.string().min(1,"At least one tag is required"),excerpt:k.string().min(1,"Excerpt is required"),content:k.string().min(1,"Content is required"),author:k.string().min(1,"Author is required"),readTime:k.string().min(1,"Read time is required"),image:k.string().url("Valid image URL required").or(k.literal("")),timestamp:k.number()});function O(e){let{posts:a,onAddPost:r,onDeletePost:l}=e,[n,d]=(0,s.useState)(!1),[u,f]=(0,s.useState)(!1),[g,x]=(0,s.useState)({}),[b,v]=(0,s.useState)(null),[y,_]=(0,s.useState)(null),[j,N]=(0,s.useState)({title:"",category:o[0],tags:"",excerpt:"",content:"",author:"",readTime:"5 min read",image:"",timestamp:Date.now()}),C=()=>{N({title:"",category:o[0],tags:"",excerpt:"",content:"",author:"",readTime:"5 min read",image:"",timestamp:Date.now()}),v(null),x({}),_(null)},R=async e=>{e.preventDefault(),x({});let t=E.safeParse(j);if(!t.success){let e={};t.error.issues.forEach(t=>{e[t.path[0]]=t.message}),x(e);return}let s=j.image;if(y&&((null==b?void 0:b.image)&&await (0,h.deleteFileFromR2)(b.image),s=await p(y,f)),b)await (0,m.updateBlogPost)(b.id,{...j,image:s,slug:c(j.title||b.id),timestamp:Date.now()});else{let e=Date.now().toString(),t=c(j.title||e);r({id:e,slug:t,...j,image:s,timestamp:Date.now()})}C(),d(!1)};return(0,t.jsxs)("div",{className:"card mb-8",children:[(0,t.jsxs)("div",{className:"card-header flex justify-between",children:[(0,t.jsxs)("p",{className:"card-title flex items-center gap-2",children:[(0,t.jsx)(i.Plus,{className:"w-4 h-4"})," Blog Posts"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{C(),d(!n)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:[(0,t.jsx)(i.Plus,{className:"w-4 h-4"}),n?"Close Form":"Add New"]})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(w,{posts:a,onEdit:e=>{v(e),N({...e}),d(!0)},onDeletePost:l})}),n&&(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("form",{onSubmit:R,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(S,{newPost:j,setNewPost:N,errors:g,isUploading:u,handleImageUpload:e=>{_(e),N({...j,image:""})}}),(0,t.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-3",children:[(0,t.jsx)("button",{type:"reset",className:"px-4 py-2 rounded-lg border",onClick:C,children:"Clear"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white",children:b?"Update Post":"Add Post"})]})]})})]})}var T=e.i(54616),D=e.i(66027),M=e.i(12598);e.i(36180);var P=e.i(98925),F=e.i(78122);let I=async()=>{let e=(0,P.collection)(F.db,"posts");return(await (0,P.getDocs)(e)).docs.map(e=>({...e.data(),id:e.id}))};function A(){let e=(0,M.useQueryClient)(),{data:a,isLoading:i}=(0,D.useQuery)({queryKey:["blogHeader"],queryFn:m.getBlogHeader}),{data:r,isLoading:o}=(()=>{let e=(0,M.useQueryClient)(),t=(0,D.useQuery)({queryKey:["blogPosts"],queryFn:I});return(0,s.useEffect)(()=>{let t=(e=>{let t=(0,P.query)((0,P.collection)(F.db,"posts"),(0,P.orderBy)("timestamp","desc"));return(0,P.onSnapshot)(t,t=>{e(t.docs.map(e=>({...e.data(),id:e.id})))})})(t=>{e.setQueryData(["blogPosts"],t)});return()=>t()},[e]),t})(),d=(0,T.useMutation)({mutationFn:e=>(0,m.saveBlogHeader)(e),onSuccess:()=>e.invalidateQueries({queryKey:["blogHeader"]})}),c=(0,T.useMutation)({mutationFn:e=>(0,m.addBlogPost)(e),onSuccess:()=>e.invalidateQueries({queryKey:["blogPosts"]})}),u=(0,T.useMutation)({mutationFn:m.deleteBlogPost,onSuccess:()=>{n.toast.success("Post deleted successfully"),e.invalidateQueries({queryKey:["blogPosts"]})},onError:()=>{n.toast.error("Failed to delete post")}});return(0,t.jsx)("div",{className:"min-h-screen ",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto p-6 lg:p-10",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Admin Â· Blog Manager"}),i?(0,t.jsx)("p",{children:"Loading header..."}):(0,t.jsx)(l,{header:a||{heroTitle:"",heroSubtitle:"",footerTitle:"",footerSubtitle:""},setHeader:e=>d.mutate(e),onSave:e=>d.mutateAsync(e)}),o?(0,t.jsx)("p",{children:"Loading posts..."}):(0,t.jsx)(O,{posts:null!=r?r:[],onAddPost:e=>c.mutate(e),onDeletePost:e=>u.mutate(e)})]})})}},14357,e=>{e.v(t=>Promise.all(["static/chunks/c796c95f2e225ab9.js","static/chunks/ba7d48bf3542fe79.js"].map(t=>e.l(t))).then(()=>t(13441)))}]);