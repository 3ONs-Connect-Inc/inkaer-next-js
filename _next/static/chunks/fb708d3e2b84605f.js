(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86417,e=>{"use strict";e.s(["deleteFileFromR2",()=>r]);var t=e.i(46696);let r=async e=>{try{let r=new URL(e).pathname.replace("/files/","");if(!(await fetch("".concat("https://cloudflare-upload.portfolio-uploads.workers.dev","/files/").concat(r),{method:"DELETE"})).ok)throw Error("Failed to delete file from R2");t.toast.success("Previous image deleted from R2")}catch(e){console.error("File deletion failed:",e),t.toast.error("Failed to delete old image from R2")}}},91918,20783,e=>{"use strict";e.s(["Slot",()=>s,"createSlot",()=>o,"createSlottable",()=>c],91918);var t=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1,a=t.map(t=>{let a=r(t,e);return n||"function"!=typeof a||(n=!0),a});if(n)return()=>{for(let e=0;e<a.length;e++){let n=a[e];"function"==typeof n?n():r(t[e],null)}}}}function a(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.useCallback(n(...r),r)}e.s(["composeRefs",()=>n,"useComposedRefs",()=>a],20783);var l=e.i(43476);function o(e){let r=function(e){let r=t.forwardRef((e,r)=>{let{children:a,...l}=e;if(t.isValidElement(a)){var o,s,i;let e,c,d=(c=(e=null==(s=Object.getOwnPropertyDescriptor((o=a).props,"ref"))?void 0:s.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(c=(e=null==(i=Object.getOwnPropertyDescriptor(o,"ref"))?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref,u=function(e,t){let r={...t};for(let n in t){let a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=l(...t);return a(...t),n}:a&&(r[n]=a):"style"===n?r[n]={...a,...l}:"className"===n&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(l,a.props);return a.type!==t.Fragment&&(u.ref=r?n(r,d):d),t.cloneElement(a,u)}return t.Children.count(a)>1?t.Children.only(null):null});return r.displayName="".concat(e,".SlotClone"),r}(e),a=t.forwardRef((e,n)=>{let{children:a,...o}=e,s=t.Children.toArray(a),i=s.find(d);if(i){let e=i.props.children,a=s.map(r=>r!==i?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,l.jsx)(r,{...o,ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,l.jsx)(r,{...o,ref:n,children:a})});return a.displayName="".concat(e,".Slot"),a}var s=o("Slot"),i=Symbol("radix.slottable");function c(e){let t=e=>{let{children:t}=e;return(0,l.jsx)(l.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=i,t}function d(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}},48425,e=>{"use strict";e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>o]);var t=e.i(71645),r=e.i(74080),n=e.i(91918),a=e.i(43476),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let l=(0,n.createSlot)("Primitive.".concat(r)),o=t.forwardRef((e,t)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n?l:r,{...o,ref:t})});return o.displayName="Primitive.".concat(r),{...e,[r]:o}},{});function o(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},27612,11540,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>en],11540);var r=e.i(43476),n=e.i(71645),a=e.i(81140),l=e.i(20783),o=e.i(30030),s=e.i(10772),i=e.i(69340),c=e.i(26330),d=e.i(65491),u=e.i(74606),p=e.i(96626),f=e.i(48425),m=e.i(3536),h=e.i(85369),x=e.i(86312),g=e.i(91918),v="Dialog",[y,j]=(0,o.createContextScope)(v),[N,b]=y(v),w=e=>{let{__scopeDialog:t,children:a,open:l,defaultOpen:o,onOpenChange:c,modal:d=!0}=e,u=n.useRef(null),p=n.useRef(null),[f,m]=(0,i.useControllableState)({prop:l,defaultProp:null!=o&&o,onChange:c,caller:v});return(0,r.jsx)(N,{scope:t,triggerRef:u,contentRef:p,contentId:(0,s.useId)(),titleId:(0,s.useId)(),descriptionId:(0,s.useId)(),open:f,onOpenChange:m,onOpenToggle:n.useCallback(()=>m(e=>!e),[m]),modal:d,children:a})};w.displayName=v;var R="DialogTrigger";n.forwardRef((e,t)=>{let{__scopeDialog:n,...o}=e,s=b(R,n),i=(0,l.useComposedRefs)(t,s.triggerRef);return(0,r.jsx)(f.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":B(s.open),...o,ref:i,onClick:(0,a.composeEventHandlers)(e.onClick,s.onOpenToggle)})}).displayName=R;var C="DialogPortal",[D,E]=y(C,{forceMount:void 0}),P=e=>{let{__scopeDialog:t,forceMount:a,children:l,container:o}=e,s=b(C,t);return(0,r.jsx)(D,{scope:t,forceMount:a,children:n.Children.map(l,e=>(0,r.jsx)(p.Presence,{present:a||s.open,children:(0,r.jsx)(u.Portal,{asChild:!0,container:o,children:e})}))})};P.displayName=C;var A="DialogOverlay",F=n.forwardRef((e,t)=>{let n=E(A,e.__scopeDialog),{forceMount:a=n.forceMount,...l}=e,o=b(A,e.__scopeDialog);return o.modal?(0,r.jsx)(p.Presence,{present:a||o.open,children:(0,r.jsx)(O,{...l,ref:t})}):null});F.displayName=A;var S=(0,g.createSlot)("DialogOverlay.RemoveScroll"),O=n.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,l=b(A,n);return(0,r.jsx)(h.RemoveScroll,{as:S,allowPinchZoom:!0,shards:[l.contentRef],children:(0,r.jsx)(f.Primitive.div,{"data-state":B(l.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),I="DialogContent",k=n.forwardRef((e,t)=>{let n=E(I,e.__scopeDialog),{forceMount:a=n.forceMount,...l}=e,o=b(I,e.__scopeDialog);return(0,r.jsx)(p.Presence,{present:a||o.open,children:o.modal?(0,r.jsx)(_,{...l,ref:t}):(0,r.jsx)(T,{...l,ref:t})})});k.displayName=I;var _=n.forwardRef((e,t)=>{let o=b(I,e.__scopeDialog),s=n.useRef(null),i=(0,l.useComposedRefs)(t,o.contentRef,s);return n.useEffect(()=>{let e=s.current;if(e)return(0,x.hideOthers)(e)},[]),(0,r.jsx)(L,{...e,ref:i,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=o.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),T=n.forwardRef((e,t)=>{let a=b(I,e.__scopeDialog),l=n.useRef(!1),o=n.useRef(!1);return(0,r.jsx)(L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,n;null==(r=e.onCloseAutoFocus)||r.call(e,t),t.defaultPrevented||(l.current||null==(n=a.triggerRef.current)||n.focus(),t.preventDefault()),l.current=!1,o.current=!1},onInteractOutside:t=>{var r,n;null==(r=e.onInteractOutside)||r.call(e,t),t.defaultPrevented||(l.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let s=t.target;(null==(n=a.triggerRef.current)?void 0:n.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),L=n.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,...u}=e,p=b(I,a),f=n.useRef(null),h=(0,l.useComposedRefs)(t,f);return(0,m.useFocusGuards)(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:i,children:(0,r.jsx)(c.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":B(p.open),...u,ref:h,onDismiss:()=>p.onOpenChange(!1)})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G,{titleId:p.titleId}),(0,r.jsx)(J,{contentRef:f,descriptionId:p.descriptionId})]})]})}),M="DialogTitle",U=n.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,l=b(M,n);return(0,r.jsx)(f.Primitive.h2,{id:l.titleId,...a,ref:t})});U.displayName=M;var V="DialogDescription",H=n.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,l=b(V,n);return(0,r.jsx)(f.Primitive.p,{id:l.descriptionId,...a,ref:t})});H.displayName=V;var W="DialogClose",z=n.forwardRef((e,t)=>{let{__scopeDialog:n,...l}=e,o=b(W,n);return(0,r.jsx)(f.Primitive.button,{type:"button",...l,ref:t,onClick:(0,a.composeEventHandlers)(e.onClick,()=>o.onOpenChange(!1))})});function B(e){return e?"open":"closed"}z.displayName=W;var K="DialogTitleWarning",[q,Z]=(0,o.createContext)(K,{contentName:I,titleName:M,docsSlug:"dialog"}),G=e=>{let{titleId:t}=e,r=Z(K),a="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return n.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},J=e=>{let{contentRef:t,descriptionId:r}=e,a=Z("DialogDescriptionWarning"),l="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(a.contentName,"}.");return n.useEffect(()=>{var e;let n=null==(e=t.current)?void 0:e.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(l))},[l,t,r]),null},X=e.i(37727),Y=e.i(28910);let Q=n.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(F,{ref:t,className:(0,Y.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});Q.displayName=F.displayName;let $=n.forwardRef((e,t)=>{let{className:n,children:a,...l}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(Q,{}),(0,r.jsxs)(k,{ref:t,className:(0,Y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...l,children:[a,(0,r.jsxs)(z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(X.X,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});$.displayName=k.displayName;let ee=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,Y.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};ee.displayName="DialogHeader";let et=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,Y.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};et.displayName="DialogFooter";let er=n.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(U,{ref:t,className:(0,Y.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});function en(e){let{isOpen:t,title:n="Confirm Action",message:a,confirmText:l="Yes",cancelText:o="Cancel",onConfirm:s,onCancel:i}=e;return(0,r.jsx)(w,{open:t,onOpenChange:e=>!e&&i(),children:(0,r.jsxs)($,{children:[(0,r.jsx)(ee,{children:n&&(0,r.jsx)(er,{children:n})}),(0,r.jsx)("div",{className:"mb-4 border text-slate-900  dark:text-gray-50",children:a}),(0,r.jsxs)(et,{children:[(0,r.jsx)("button",{onClick:i,className:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100",children:o}),(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700",children:l})]})]})})}er.displayName=U.displayName,n.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(H,{ref:t,className:(0,Y.cn)("text-sm text-muted-foreground",n),...a})}).displayName=H.displayName},31422,e=>{"use strict";e.s(["default",()=>f],31422);var t=e.i(43476),r=e.i(71645),n=e.i(1851),a=e.i(86536),l=e.i(27612),o=e.i(99145),s=e.i(78122);e.i(36180);var i=e.i(98925),c=e.i(46696),d=e.i(96274),u=e.i(11540),p=e.i(86417);let f=()=>{let{data:e=[],isLoading:f,isError:m}=function(){let[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[l,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{try{let e=(0,i.query)((0,i.collection)(s.db,"applications"),(0,i.orderBy)("createdAt","desc")),r=(0,i.onSnapshot)(e,e=>{let r=e.docs.map(e=>{var t,r,n,a,l;let o=e.data();return{id:e.id,jobId:o.jobId,firstName:o.firstName,lastName:o.lastName,email:o.email,phone:null!=(n=o.phone)?n:null,coverLetter:null!=(a=o.coverLetter)?a:null,resumeUrl:o.resumeUrl,createdAt:null!=(l=null==(r=o.createdAt)||null==(t=r.toDate)?void 0:t.call(r))?l:null}});t(r),a(!1)},e=>{console.error("Error fetching applications:",e),o(!0),a(!1)});return()=>r()}catch(e){console.error(e),o(!0),a(!1)}},[]),{data:e,isLoading:n,isError:l}}(),[h,x]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),[N,b]=(0,r.useState)(!1),w=async()=>{if(y)try{y.resumeUrl&&await (0,p.deleteFileFromR2)(y.resumeUrl),await (0,i.deleteDoc)((0,i.doc)(s.db,"applications",y.id)),c.toast.success("Application deleted successfully")}catch(e){console.error("Delete failed:",e),c.toast.error(e.message||"Failed to delete application")}finally{b(!1),j(null)}},R=[{header:"First Name",accessor:"firstName",className:"w-[200px] truncate"},{header:"Last Name",accessor:"lastName",className:"w-[200px] truncate"},{header:"Email",accessor:"email",className:"w-[200px] truncate"},{header:"Phone",accessor:"phone",className:"w-[200px] truncate"},{header:"Resume",className:"w-[180px] truncate",render:e=>(0,t.jsx)("a",{href:e.resumeUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"View"})},{header:"Applied On",className:"w-[200px] truncate",render:e=>e.createdAt?(0,n.format)(e.createdAt,"PPpp"):"—"},{header:"Actions",className:"w-[120px] text-center",render:e=>(0,t.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,t.jsx)("button",{onClick:()=>{x(e),v(!0)},className:"text-blue-600 hover:text-blue-800",title:"View",children:(0,t.jsx)(a.Eye,{size:18})}),(0,t.jsx)("button",{onClick:()=>{j(e),b(!0)},className:"text-red-600 hover:text-red-800",title:"Delete",children:(0,t.jsx)(l.Trash2,{size:18})})]})}];return f?(0,t.jsx)("p",{children:"Loading applications..."}):m?(0,t.jsx)("p",{className:"text-red-500",children:"Failed to load applications."}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)(o.AdminTable,{title:"Job Applications",data:e,columns:R,rowKey:e=>e.id}),(0,t.jsx)(d.default,{isOpen:g,onClose:()=>v(!1),title:"Application Details",children:h&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"First Name:"})," ",h.firstName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Last Name:"})," ",h.lastName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",h.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Phone:"})," ",h.phone||"—"]}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"Cover Letter:"})}),(0,t.jsx)("div",{className:"p-2 border rounded bg-gray-50 whitespace-pre-line",children:h.coverLetter||"No cover letter provided"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Resume:"})," ",(0,t.jsx)("a",{href:h.resumeUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Download"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Applied On:"})," ",h.createdAt?(0,n.format)(h.createdAt,"PPpp"):"—"]})]})}),(0,t.jsx)(u.default,{isOpen:N,title:"Delete Application",message:"Are you sure you want to delete application from ".concat(null==y?void 0:y.firstName," ").concat(null==y?void 0:y.lastName,"?"),confirmText:"Delete",cancelText:"Cancel",onConfirm:w,onCancel:()=>{b(!1),j(null)}})]})}}]);