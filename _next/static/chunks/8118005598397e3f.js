(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89503,e=>{"use strict";e.s(["default",()=>n],89503);var t=e.i(43476),l=e.i(71645),o=e.i(78122);e.i(36180);var i=e.i(98925);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",l=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&l[e]];return t};function n(){let[e,n]=(0,l.useState)(null),[r,c]=(0,l.useState)(null),a=async()=>{c(null);let e=(0,i.query)((0,i.collection)(o.db,"portfolio"),(0,i.limit)(1)),t=await (0,i.getDocs)(e);if(t.empty)return void c("No portfolio found. Create a portfolio first.");let l=t.docs[0].id,r=s(10),a=i.Timestamp.now(),d=i.Timestamp.fromMillis(a.toMillis()+6048e5);await (0,i.addDoc)((0,i.collection)(o.db,"accessCodes"),{code:r,portfolioId:l,createdAt:a,expiresAt:d,usedBy:null}),n("".concat(r))};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h1",{className:"text-xl mb-4 font-bold",children:"Generate Access Code"}),(0,t.jsx)("button",{onClick:a,className:"mt-3 bg-blue-500 text-white px-4 py-2 rounded",children:"Generate Code"}),r&&(0,t.jsx)("p",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded",children:r}),e&&(0,t.jsx)("h2",{className:"mt-6 p-3 bg-green-100 rounded",children:(0,t.jsx)("strong",{children:e})})]})}}]);