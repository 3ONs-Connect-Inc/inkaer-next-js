(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75852,e=>{"use strict";e.s(["default",()=>M],75852);var t=e.i(43476),a=e.i(55487),r=e.i(18566),l=e.i(71645);let i=(e,t)=>{(0,l.useEffect)(()=>{let a=a=>{e.every(e=>e.current&&!e.current.contains(a.target))&&t()};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[t,e])};e.i(47167);var s=e.i(28910),n=e.i(57688),o=e.i(22016),c=e.i(61628);let d=(0,l.forwardRef)((e,a)=>{let{collapsed:i=!1}=e,d=(0,r.usePathname)()||"/",[u,m]=(0,l.useState)(()=>Object.fromEntries(c.navbarLinks.map(e=>[e.title,!0])));return(0,t.jsxs)("aside",{ref:a,className:(0,s.cn)("fixed z-[999] flex h-full w-[240px] flex-col overflow-x-hidden border-r border-slate-300 bg-white [transition:_width_300ms_cubic-bezier(0.4,_0,_0.2,_1),_left_300ms_cubic-bezier(0.4,_0,_0.2,_1),_background-color_150ms_cubic-bezier(0.4,_0,_0.2,_1),_border_150ms_cubic-bezier(0.4,_0,_0.2,_1)] dark:border-slate-700 dark:bg-slate-900",i?"md:w-[70px] md:items-center":"md:w-[240px]",i?"max-md:-left-full":"max-md:left-0"),"aria-label":"Sidebar",children:[(0,t.jsx)("div",{className:"flex gap-x-3 p-3",children:i?(0,t.jsx)(o.default,{href:"/admin","aria-label":"Go to admin",className:"inline-block",children:(0,t.jsx)(n.default,{src:"/logoIcon.svg",alt:"Logo Collapsed",width:40,height:40,className:"w-10 h-auto",priority:!0})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{href:"/admin","aria-label":"Go to admin (light)",className:"inline-block",children:(0,t.jsx)(n.default,{src:"/logoDark.svg",alt:"Logo Light",width:160,height:40,className:"dark:hidden w-40 h-auto",priority:!0})}),(0,t.jsx)(o.default,{href:"/admin","aria-label":"Go to admin (dark)",className:"inline-block",children:(0,t.jsx)(n.default,{src:"/logoLight.svg",alt:"Logo Dark",width:160,height:40,className:"hidden dark:block w-40 h-auto",priority:!0})})]})}),(0,t.jsx)("div",{className:"relative z-[999] mt-4 flex w-full flex-col gap-y-4 overflow-y-auto overflow-x-hidden p-3 [scrollbar-width:_thin]",children:c.navbarLinks.map(e=>{let a=u[e.title];return(0,t.jsxs)("nav",{className:(0,s.cn)("sidebar-group",i&&"md:items-center"),"aria-labelledby":"sidebar-group-".concat(e.title),children:[(0,t.jsx)("p",{id:"sidebar-group-".concat(e.title),className:(0,s.cn)("sidebar-group-title cursor-pointer select-none",i&&"md:w-[45px]"),onClick:()=>(e=>{m(t=>({...t,[e]:!t[e]}))})(e.title),children:e.title}),a&&e.links.map(e=>{let a="/admin"===e.path?"/admin"===d||"/admin/"===d:d.startsWith(e.path);return(0,t.jsxs)(o.default,{href:e.path,className:(0,s.cn)("sidebar-item flex items-center gap-x-2 rounded-md px-2 py-2 text-sm font-medium transition-colors hover:bg-slate-200 dark:hover:bg-slate-800",i&&"md:w-[45px] justify-center",a&&"bg-inkaer-blue text-slate-50"),"aria-current":a?"page":void 0,children:[(0,t.jsx)(e.icon,{size:22,className:"flex-shrink-0"}),!i&&(0,t.jsx)("span",{className:"whitespace-nowrap",children:e.label})]},e.label)})]},e.title)})})]})});d.displayName="Sidebar";var u=e.i(9876),m=e.i(75254);let h=(0,m.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),f=(0,m.default)("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),p=(0,m.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var b={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x=l.default.createContext&&l.default.createContext(b),g=["attr","size","title"];function v(){return(v=Object.assign.bind()).apply(this,arguments)}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){var r,l,i;r=e,l=t,i=a[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in r?Object.defineProperty(r,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[l]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function w(e){return t=>l.default.createElement(k,v({attr:y({},e.attr)},t),function e(t){return t&&t.map((t,a)=>l.default.createElement(t.tag,y({key:a},t.attr),e(t.child)))}(e.child))}function k(e){var t=t=>{var a,{attr:r,size:i,title:s}=e,n=function(e,t){if(null==e)return{};var a,r,l=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}(e,g),o=i||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),l.default.createElement("svg",v({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,n,{className:a,style:y(y({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&l.default.createElement("title",null,s),e.children)};return void 0!==x?l.default.createElement(x.Consumer,null,e=>t(e)):t(b)}function N(e){return w({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function O(e){return w({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"},child:[]}]})(e)}let _=e=>{let{toggleTheme:a,theme:r}=e;return(0,t.jsx)("button",{onClick:a,className:"flex items-center p-2 rounded-full bg-gray-100 dark:bg-gray-300 hover:shadow-md cursor-pointer",children:"light"===r?(0,t.jsx)(N,{size:20}):(0,t.jsx)(O,{size:20})})};var z=e.i(49775);let C=e=>{let{children:a,onClick:r,"aria-label":l,className:i="",type:s="button",imgSrc:o,imgAlt:c="",spanText:d,disabled:u}=e;return(0,t.jsx)("button",{type:s,className:"cursor-pointer ".concat(i),onClick:r,"aria-label":l,disabled:u,children:o?(0,t.jsx)(n.default,{src:o,alt:c,fill:!0,sizes:"100%",className:"object-cover"}):d?(0,t.jsx)("span",{children:d}):a})},E=e=>{let{collapsed:a,setCollapsed:r}=e,{theme:s,toggleTheme:n}=(0,l.useContext)(u.ThemeContext),o=(0,z.default)(),[c,d]=(0,l.useState)(!1),m=(0,l.useRef)(null),b=(0,l.useRef)(null);return i([m,b],()=>d(!1)),(0,t.jsxs)("header",{className:"relative z-10 flex h-[60px] items-center justify-between bg-white px-4 shadow-md transition-colors dark:bg-slate-900",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,t.jsx)(C,{className:"btn-ghost size-10 ","aria-label":"toggle collapse",onClick:()=>r(!a),children:(0,t.jsx)(f,{className:a?"rotate-180":""})}),(0,t.jsxs)("div",{className:"input",children:[(0,t.jsx)(p,{size:20,className:"text-slate-300"}),(0,t.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search...",className:"w-full bg-transparent text-slate-900 outline-0 placeholder:text-slate-300 dark:text-slate-50"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,t.jsx)(_,{toggleTheme:n,theme:s}),(0,t.jsx)(C,{"aria-label":"bell icon",className:"btn-ghost size-10 ",children:(0,t.jsx)(h,{size:20})}),(0,t.jsxs)("div",{ref:m,className:"relative",children:[(0,t.jsx)(C,{"aria-label":"profile",imgSrc:"/avatar.png",imgAlt:"Profile image",className:"size-10 overflow-hidden rounded-full",onClick:()=>d(e=>!e)}),c&&(0,t.jsx)("div",{ref:b,className:"absolute right-0 mt-2 w-40 rounded-md bg-white shadow-lg  dark:bg-slate-800",children:(0,t.jsx)("button",{onClick:o,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-slate-700",children:"Log out"})})]})]})]})};e.i(36180);var S=e.i(98925),P=e.i(26836);e.i(51718);var L=e.i(18357),A=e.i(78122);function M(e){let{children:n}=e,o=(0,a.useDispatch)();(0,l.useEffect)(()=>{o((0,P.setLoading)(!0));let e=(0,L.onAuthStateChanged)(A.auth,e=>{if(!e)return void o((0,P.clearUser)());let t=(0,S.doc)(A.db,"users",e.uid),a=(0,S.onSnapshot)(t,t=>{var a;if(!t.exists())return;let r=t.data();o((0,P.setUser)({uid:e.uid,email:e.email,displayName:null!=(a=e.displayName)?a:"",role:r.role||"user"}))});return()=>a()});return()=>e()},[o]);let{user:c,role:u,loading:m}=(0,a.useSelector)(e=>e.session),h=(0,r.useRouter)(),[f,p]=(0,l.useState)(!1),b=function(e){let t=l.useCallback(t=>{let a=window.matchMedia(e);return a.addEventListener("change",t),()=>{a.removeEventListener("change",t)}},[e]);return l.useSyncExternalStore(t,()=>window.matchMedia(e).matches,()=>{throw Error("useMediaQuery is a client-only hook")})}("(min-width: 896px)"),[x,g]=(0,l.useState)(()=>!b),v=(0,l.useRef)(null);return((0,l.useEffect)(()=>{g(!b)},[b]),i([v],()=>{b||x||g(!0)}),(0,l.useEffect)(()=>{m||(c?"admin"!==u?h.replace("/unauthorized"):p(!0):h.replace("/sign-in"))},[c,u,m,h]),m||!f)?null:(0,t.jsxs)("div",{className:"min-h-screen bg-slate-100 transition-colors dark:bg-slate-950",children:[(0,t.jsx)("div",{className:(0,s.cn)("pointer-events-none fixed inset-0 -z-10 bg-black opacity-0 transition-opacity",!x&&"max-md:pointer-events-auto max-md:z-50 max-md:opacity-30")}),(0,t.jsx)(d,{ref:v,collapsed:x}),(0,t.jsxs)("div",{className:(0,s.cn)("transition-[margin] duration-300",x?"md:ml-[70px]":"md:ml-[240px]"),children:[(0,t.jsx)(E,{collapsed:x,setCollapsed:g}),(0,t.jsx)("div",{className:"h-[calc(100vh-60px)] overflow-y-auto overflow-x-hidden p-6",children:n})]})]})}}]);